<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="概述 Structure Query Language  第一代：机器语言 第二代：汇编         第三代：C/C++/C#/Java/VB/… 第四代：SQL【结构化查询语言，面向关系的】   SQL92/【99】标准的四大分类 DDL(数据定义语言Data Definition Language) create alter drop truncate 用来操作库,表…   DML(数据操">
<meta property="og:type" content="article">
<meta property="og:title" content="xd-SQL">
<meta property="og:url" content="http://yoursite.com/2018/12/11/xd-SQL/index.html">
<meta property="og:site_name" content="安₃">
<meta property="og:description" content="概述 Structure Query Language  第一代：机器语言 第二代：汇编         第三代：C/C++/C#/Java/VB/… 第四代：SQL【结构化查询语言，面向关系的】   SQL92/【99】标准的四大分类 DDL(数据定义语言Data Definition Language) create alter drop truncate 用来操作库,表…   DML(数据操">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-12-26T15:10:56.727Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="xd-SQL">
<meta name="twitter:description" content="概述 Structure Query Language  第一代：机器语言 第二代：汇编         第三代：C/C++/C#/Java/VB/… 第四代：SQL【结构化查询语言，面向关系的】   SQL92/【99】标准的四大分类 DDL(数据定义语言Data Definition Language) create alter drop truncate 用来操作库,表…   DML(数据操">






  <link rel="canonical" href="http://yoursite.com/2018/12/11/xd-SQL/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>xd-SQL | 安₃</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
	<!--github start-->
	<a href="https://github.com/awcnoanswer" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
	<!--github end-->
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">安₃</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/11/xd-SQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="安₃">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://github.com/awcnoanswer/myPicture/raw/master/headPic/swk.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="安₃">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">xd-SQL
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-11 00:37:56" itemprop="dateCreated datePublished" datetime="2018-12-11T00:37:56+08:00">2018-12-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-12-26 23:10:56" itemprop="dateModified" datetime="2018-12-26T23:10:56+08:00">2018-12-26</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/DB/" itemprop="url" rel="index"><span itemprop="name">DB</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><ul>
<li><code>Structure Query Language</code></li>
<li><ul>
<li>第一代：机器语言</li>
<li>第二代：汇编        </li>
<li>第三代：C/C++/C#/Java/VB/…</li>
<li>第四代：SQL【结构化查询语言，面向关系的】</li>
</ul>
</li>
<li>SQL92/【99】标准的四大分类<ul>
<li>DDL(数据定义语言Data Definition Language)<ul>
<li><code>create alter drop truncate</code></li>
<li>用来操作库,表…</li>
</ul>
</li>
<li>DML(数据操纵语言Data Manipulation Language)<ul>
<li><code>insert update delete</code></li>
<li>用来操作数据</li>
</ul>
</li>
<li>DQL (数据查询语言Data Query Language) <ul>
<li>select</li>
</ul>
</li>
<li>DCL(数据控制语言 Data Control Language)<ul>
<li><code>grant revoke</code></li>
</ul>
</li>
<li>TCL(事务控制语言)(自定义的。。。)<ul>
<li><code>commit，rollback，rollback to savepoint 。。。</code></li>
</ul>
</li>
</ul>
</li>
<li>sql的注释<ul>
<li><code>--</code><ul>
<li>单行</li>
</ul>
</li>
<li><code>/* */</code><ul>
<li>多行</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><ul>
<li>存储数据的仓库</li>
<li>高效的存储和处理数据的介质（介质：磁盘和内存）</li>
</ul>
<h3 id="名词"><a href="#名词" class="headerlink" title="名词"></a>名词</h3><ul>
<li>DBS<ul>
<li><code>Database System</code></li>
<li><code>DBS = DBMS + DB</code></li>
</ul>
</li>
<li>DBMS<ul>
<li><code>Database Management System</code></li>
<li>数据库管理系统</li>
</ul>
</li>
<li>DBA<ul>
<li><code>Database Administrator</code></li>
<li>数据库管理员</li>
</ul>
</li>
<li><code>行/记录</code><ul>
<li><code>row/record</code></li>
<li>本质是一个东西: 都是指表中的一行(一条记录)</li>
<li>行是从结构角度出发</li>
<li>记录是从数据角度出发</li>
</ul>
</li>
<li><code>列/字段</code><ul>
<li><code>column/field</code></li>
<li>本质是一个东西</li>
</ul>
</li>
</ul>
<h2 id="分类（按介质）"><a href="#分类（按介质）" class="headerlink" title="分类（按介质）"></a>分类（按介质）</h2><h3 id="关系型数据库（SQL）"><a href="#关系型数据库（SQL）" class="headerlink" title="关系型数据库（SQL）"></a>关系型数据库（SQL）</h3><ul>
<li>安全（保存磁盘不易丢失）容易理解，浪费空间（二维表）</li>
<li><code>Oracle DB2</code></li>
<li><code>Sql-Server Mysql</code></li>
<li><code>access</code></li>
</ul>
<h3 id="非关系型数据库（NoSQL：not-only-sql）"><a href="#非关系型数据库（NoSQL：not-only-sql）" class="headerlink" title="非关系型数据库（NoSQL：not only sql）"></a>非关系型数据库（NoSQL：not only sql）</h3><ul>
<li>效率高，不安全（断电丢失）</li>
<li><code>memcached mongodb redis</code></li>
</ul>
<h1 id="Mysql概述"><a href="#Mysql概述" class="headerlink" title="Mysql概述"></a>Mysql概述</h1><ul>
<li>是一种c/s结构的软件：若想访问服务器，必须通过客户端（服务器一直运行，客户端在需要时运行）</li>
<li><code>mysql.exe</code><ul>
<li>mysql自带客户端</li>
</ul>
</li>
<li><code>mysqld.exe</code><ul>
<li>服务端</li>
</ul>
</li>
</ul>
<h2 id="交互方式"><a href="#交互方式" class="headerlink" title="交互方式"></a>交互方式</h2><ol>
<li>客户端连接认证<ul>
<li>连接服务器</li>
<li>认证身份<ul>
<li><code>mysql.exe -hPup</code><ul>
<li><code>mysql.exe -hlocalhost -p3306 -uroot -proot</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>发送sql指令</li>
<li>服务器接收sql指令<ul>
<li>处理sql指令，返回操作结果</li>
</ul>
</li>
<li>客户端接收结果，显示结果</li>
<li>断开连接（释放资源：服务器并发限制）<ul>
<li><code>exit/quit/\q</code></li>
</ul>
</li>
</ol>
<h2 id="mysql服务器对象"><a href="#mysql服务器对象" class="headerlink" title="mysql服务器对象"></a>mysql服务器对象</h2><ul>
<li>没有办法完全了解服务器内部的内容：只能粗略去分析数据库服务器的内部结构</li>
<li>分为四层<ul>
<li>系统（DBMS）</li>
<li>数据库（DB）</li>
<li>数据表（Table）</li>
<li>字段（Field）</li>
</ul>
</li>
</ul>
<h2 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h2><ol>
<li>配置环境变量</li>
<li><p>配置mysql目录下的<code>.ini</code>配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//安装目录</span><br><span class="line">basedir =C:/soft/mysql-5.7.18-winx64</span><br><span class="line">//data目录</span><br><span class="line">datadir =C:/soft/mysql-5.7.18-winx64/data</span><br><span class="line">port = 3306</span><br><span class="line">character-set-server=utf8</span><br><span class="line">character_set_filesystem=utf8</span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br></pre></td></tr></table></figure>
<ul>
<li>注<ul>
<li>mysql解压版没有data目录</li>
<li>初始化后会出现data目录</li>
</ul>
</li>
</ul>
</li>
<li>初始化<ul>
<li><strong>windows</strong><ul>
<li><code>mysqld --initialize</code><ul>
<li>随机密码</li>
</ul>
</li>
<li><code>mysqld --initialize-insecure</code><ul>
<li>无密码</li>
</ul>
</li>
</ul>
</li>
<li><strong>unix</strong><ul>
<li><code>mysqld --initialize-insecure --user=mysql</code><ul>
<li>无密码</li>
</ul>
</li>
<li><code>mysqld --initialize --user=mysql --console</code><ul>
<li>有密码</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>服务<ul>
<li><code>mysqld --install</code><ul>
<li>将MySQL添加到系统服务</li>
<li><code>Service successfully installed</code>服务安装成功。</li>
</ul>
</li>
<li><code>net start mysql</code><ul>
<li>启动服务</li>
</ul>
</li>
<li><code>net stop mysql</code><ul>
<li>停止服务</li>
</ul>
</li>
<li><code>mysqld remove</code> &amp; <code>sc delete mysql</code>？<ul>
<li>移除服务</li>
</ul>
</li>
</ul>
</li>
<li>登陆<ul>
<li><code>mysql -uroot -p</code><ul>
<li><code>msql&gt;</code>登录成功</li>
</ul>
</li>
</ul>
</li>
<li>修改密码<ul>
<li><code>alter user &#39;root&#39; @&#39;localhost&#39; identified by &#39;root&#39;;;</code><ul>
<li>将登陆账户密码修改为root</li>
</ul>
</li>
</ul>
</li>
<li>退出<ul>
<li><code>exit</code></li>
</ul>
</li>
<li>其它操作<ul>
<li><code>\c</code><ul>
<li>输错了想结束</li>
</ul>
</li>
<li><code>tee D;/xx.sql;</code><ul>
<li>存储输入的sql到xx.sql文件。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="SQL基本操作"><a href="#SQL基本操作" class="headerlink" title="SQL基本操作"></a>SQL基本操作</h1><ul>
<li><code>CRUD</code></li>
<li>按操作对象分为<ul>
<li>库操作</li>
<li>表操作（字段）</li>
<li>数据操作</li>
</ul>
</li>
</ul>
<h2 id="库操作"><a href="#库操作" class="headerlink" title="库操作"></a>库操作</h2><h3 id="增"><a href="#增" class="headerlink" title="增"></a>增</h3><ul>
<li><code>create database 库名 [库选项]</code><ul>
<li>数据库名<ul>
<li>不要用关键字和保留字</li>
<li>非要用的话使用单引号包括关键字</li>
</ul>
</li>
<li>库选项：用来约束数据库<ul>
<li>字符集设定<ul>
<li><code>charset/character set 字符集(数据存储的编码格式)</code></li>
</ul>
</li>
<li>校对设定<ul>
<li><code>collate 校对集(数据比较的规则)</code></li>
<li>校对集依赖字符集</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>创建数据库sql语句执行后<ol>
<li>在数据库系统中,增加了对应的数据库信息</li>
<li>在保存数据的文件夹（Data目录）下，创建一个对应数据库名字的文件夹</li>
<li>每个数据库下都有一个opt文件: 保存了库选项</li>
</ol>
</li>
</ul>
<h3 id="删"><a href="#删" class="headerlink" title="删"></a>删</h3><ul>
<li><code>drop database 库名</code></li>
<li>删除数据库sql语句执行之后<ol>
<li>在数据库内部看不到对应的数据库</li>
<li>Data目录下，数据库名字对应的文件夹也被删除（级联删除：里面的数据表全部删除）<ul>
<li>删除不可逆</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="改"><a href="#改" class="headerlink" title="改"></a>改</h3><ul>
<li>数据库的修改<ul>
<li>名字不可修改</li>
<li>仅限库选项：字符集和校对集</li>
</ul>
</li>
<li><code>alter database 库名 [库选项];</code><ul>
<li><code>charset/character set [=] 字符集</code></li>
<li><code>collate 校对集</code></li>
</ul>
</li>
</ul>
<h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><ul>
<li><code>show databases</code><ul>
<li>查看所有数据库</li>
</ul>
</li>
<li><code>show databases like &#39;pattern&#39;</code><ul>
<li>查看部分数据库</li>
<li><code>pattern</code>：匹配模式<ul>
<li><code>%</code><ul>
<li>匹配多个</li>
</ul>
</li>
<li><code>_</code><ul>
<li>匹配一个</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>show create database 库名</code><ul>
<li>查看数据库的创建语句</li>
</ul>
</li>
</ul>
<h2 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h2><ul>
<li>任何一个表的设计都必须指定数据库。<ol>
<li>显示的指定表所属数据库<ul>
<li><code>create table 库名.表明();</code></li>
</ul>
</li>
<li>隐式的指定所属数据库：先进入数据库<ul>
<li><code>use 库名;</code></li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="增-1"><a href="#增-1" class="headerlink" title="增"></a>增</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table [if not exists] 表名(</span><br><span class="line">	字段名 数据类型,</span><br><span class="line">	字段名 数据类型	-- 最后一行不需要逗号</span><br><span class="line">)[表选项]</span><br></pre></td></tr></table></figure>
<ul>
<li>表选项：控制表的表现<ul>
<li>字符集<ul>
<li><code>charset/character set 字符集</code></li>
</ul>
</li>
<li>校对集<ul>
<li><code>collate 校对集</code></li>
</ul>
</li>
<li>存储引擎<ul>
<li><code>engine 存储引擎(innodb 和 myisam)</code></li>
</ul>
</li>
</ul>
</li>
<li>创建数据表的SQL指令执行之后<ol>
<li>指定数据库下已经存在对应的表</li>
<li>在数据库对应的文件夹下,会产生对应表的结构文件(跟存储引擎有关系)<ul>
<li><code>xxx.frm ...</code></li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="删-1"><a href="#删-1" class="headerlink" title="删"></a>删</h3><ul>
<li><code>drop table 表名1,表名2...</code></li>
<li>删除数据表的SQL指令执行之后<ol>
<li>在表空间中,没有了指定的表(数据也没有了)</li>
<li>在数据库对应的文件夹下, 表对应的文件(与存储引擎有关)也会被删除</li>
</ol>
</li>
</ul>
<h3 id="改-1"><a href="#改-1" class="headerlink" title="改"></a>改</h3><ul>
<li>表的修改<ol>
<li>表本身<ul>
<li>表名</li>
<li>表选项<ul>
<li>字符集</li>
<li>校对集</li>
<li>存储引擎</li>
</ul>
</li>
</ul>
</li>
<li>字段<ul>
<li>增</li>
<li>删</li>
<li>改</li>
<li>重命名</li>
</ul>
</li>
</ol>
</li>
<li><code>rename table 表名 to 新表名</code></li>
<li><code>alter table 表名 表选项 [=] 值</code><ul>
<li>修改表选项</li>
</ul>
</li>
<li><code>alter table 表名 add [column] 字段名 数据类型 [列属性] [位置]</code><ul>
<li>新增字段</li>
<li>位置<ul>
<li>字段可以存放表中的任意位置</li>
<li><code>first</code></li>
<li><code>after</code><ul>
<li>默认再最后一个字段之后</li>
<li><code>after 字段名</code>新增到哪个字段之后</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>alter table 表名 drop 字段名</code><ul>
<li>删除字段</li>
</ul>
</li>
<li><code>alter table 表名 modify 字段名 数据类型 [列属性] [位置]</code><ul>
<li>修改字段</li>
</ul>
</li>
<li><code>alter table 表名 change 字段名 新字段名 数据类型 [列属性] [位置]</code><ul>
<li>重命名字段</li>
</ul>
</li>
</ul>
<h3 id="查-1"><a href="#查-1" class="headerlink" title="查"></a>查</h3><ul>
<li><code>show tables</code></li>
<li><code>show tables like &#39;pattern&#39;</code></li>
<li><code>show create table 表名</code><ul>
<li><code>\g</code><ul>
<li>横向显示</li>
</ul>
</li>
<li><code>\G</code><ul>
<li>纵向显示</li>
</ul>
</li>
</ul>
</li>
<li><code>desc/describe/show columns from 表名</code><ul>
<li>查看表中字段</li>
</ul>
</li>
</ul>
<h2 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h2><h3 id="增-2"><a href="#增-2" class="headerlink" title="增"></a>增</h3><ul>
<li><code>insert into 表名 values(值列表)[,(值列表)]</code><ul>
<li>给全表字段插入数据，不需要指定字段列表<ul>
<li>值数据顺序与表字段顺序一致</li>
<li>非数值数据，都要使用引号(建议单引号)</li>
</ul>
</li>
<li>可以一次性插入多条记录</li>
</ul>
</li>
<li><code>insert into 表名(字段列表) values(值列表)[,(值列表)]</code><ul>
<li>插入指定字段</li>
</ul>
</li>
</ul>
<h3 id="删-2"><a href="#删-2" class="headerlink" title="删"></a>删</h3><ul>
<li><code>delete from 表名 [where条件]</code></li>
<li><code>truncate 表名;</code><ul>
<li>清空表</li>
</ul>
</li>
<li>truncate和delete区别<ul>
<li>DELETE 删除表中的数据，表结构还在，删除后的数据可以找回<ul>
<li>如果表中存在主键自增长,那么当删除之后, 自增长不会还原</li>
</ul>
</li>
<li>TRUNCATE 是把表直接DROP掉，然后再创建一个同样数据结构的新表</li>
</ul>
</li>
</ul>
<h3 id="改-2"><a href="#改-2" class="headerlink" title="改"></a>改</h3><ul>
<li><code>update 表名 set 字段 = 值 [where条件]</code><ul>
<li>更新不一定会成功: 如没有真正要更新的数据</li>
</ul>
</li>
</ul>
<h3 id="查-2"><a href="#查-2" class="headerlink" title="查"></a>查</h3><ul>
<li><code>select */字段列表 from 表名 [where条件]</code></li>
</ul>
<h1 id="数据类型（列类型）"><a href="#数据类型（列类型）" class="headerlink" title="数据类型（列类型）"></a>数据类型（列类型）</h1><h2 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h2><h3 id="整数型"><a href="#整数型" class="headerlink" title="整数型"></a>整数型</h3><ul>
<li><strong><code>tinyint</code></strong><ul>
<li>1个字节 </li>
</ul>
</li>
<li><code>smallint</code><ul>
<li>2个字节</li>
</ul>
</li>
<li><code>mediumint</code><ul>
<li>3个字节</li>
</ul>
</li>
<li><strong><code>int</code></strong><ul>
<li>4个字节</li>
</ul>
</li>
<li><code>bigint</code><ul>
<li>8个字节</li>
</ul>
</li>
</ul>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><h5 id="unsigned"><a href="#unsigned" class="headerlink" title="unsigned"></a>unsigned</h5><ul>
<li><code>字段名 数值型 unsigned</code><ul>
<li>无符号 从0开始</li>
<li>sql中的数值型默认都是有符号的。<ul>
<li>一个字节有符号<code>-128 ~ 127</code></li>
<li>一个字节无符号<code>0 ~ 255</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="M-amp-zerofill"><a href="#M-amp-zerofill" class="headerlink" title="(M) &amp; zerofill"></a>(M) &amp; zerofill</h5><ul>
<li><code>字段名 整型(M) zerofill</code><ul>
<li><code>(M)</code><ul>
<li>总共M位数（包含符号）</li>
<li>与<code>zerofill</code>配合使用才有意义（不足M位的用0补）</li>
</ul>
</li>
<li><code>zerofill</code><ul>
<li>用零填充</li>
<li>如果声明零填充，则会自动声明为<code>unsigned</code>无符号。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="小数型"><a href="#小数型" class="headerlink" title="小数型"></a>小数型</h3><ul>
<li>浮点型<ul>
<li>小数点浮动, 精度有限,而且会丢失精度</li>
<li>整数部分不能超出长度（整数部分可能会被四舍五入进位），小数部分可以（系统自动四舍五入）<ul>
<li>如果因为系统四舍五入使整数部分超出长度也可以</li>
</ul>
</li>
</ul>
</li>
<li>定点型<ul>
<li>小数点固定, 精度固定, 不会丢失精度</li>
<li>整数部分不能超出长度（整数部分不会被四舍五入进位），小数部分可以（系统自动四舍五入）<ul>
<li>如果因为系统四舍五入使整数部分超出长度不可以</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h4><ul>
<li><code>float</code><ul>
<li>单精度 4个字节</li>
</ul>
</li>
<li><code>double</code><ul>
<li>双精度 8个字节</li>
</ul>
</li>
</ul>
<h4 id="定点型"><a href="#定点型" class="headerlink" title="定点型"></a>定点型</h4><ul>
<li><code>decimal</code><ul>
<li>变长，大致每9个数字采用4个字节存储，整数小数分开计算。</li>
</ul>
</li>
</ul>
<h4 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h4><h5 id="unsigned-1"><a href="#unsigned-1" class="headerlink" title="unsigned"></a>unsigned</h5><h5 id="M-D-amp-zerofill"><a href="#M-D-amp-zerofill" class="headerlink" title="(M,D) &amp; zerofill"></a>(M,D) &amp; zerofill</h5><ul>
<li><code>字段名 小数型(M,D)</code><ul>
<li>M<ul>
<li>精度 表示总位数</li>
</ul>
</li>
<li>D<ul>
<li>标度 表示小数部分位数</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h2><ul>
<li><code>char</code><ul>
<li>定长字符串，磁盘（二维表）再定义结构时，就已经确定了最终数据的存储长度。</li>
<li><code>char(L)</code><ul>
<li>L表示存储长度(字符数)，单位为字符</li>
<li>最大长度255</li>
<li>char存储时如果不够L个字符，则内部用空格补齐，取出时去掉右侧空格。速度比varchar快。<ul>
<li>如果存的数据右侧本身带空格，会丢失。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>varchar</code><ul>
<li>变长字符串，在分配空间时按照最大的空间分配，但实际使用空间根据具体数据来确定。</li>
<li><code>varchar(L)</code><ul>
<li>最大长度65536</li>
<li>varcar存储时在列内容前，用1-2个字节来标志该列的内容长度。<ul>
<li>这样知道长度，才知道取值时到哪里结束。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>长度</th>
<th>可存字符</th>
<th>实存字符(i&lt;=M)</th>
<th>实占空间</th>
<th>利用率</th>
</tr>
</thead>
<tbody>
<tr>
<td>char</td>
<td>M</td>
<td>M</td>
<td>i</td>
<td>M*3字节</td>
<td>i/M&lt;=100%</td>
</tr>
<tr>
<td>varchar</td>
<td>M</td>
<td>M</td>
<td>i</td>
<td>i*3+(1~2)字节</td>
<td>i/i+(1~2)&lt;=100%</td>
</tr>
</tbody>
</table>
<ul>
<li>定长与变长的选择<ul>
<li>定长磁盘空间比较浪费，但效率高，如果数据确定长度一致<ul>
<li>身份证，电话，手机号</li>
</ul>
</li>
<li>变长磁盘空间比较节省，但效率低，如果数据不能确定长度</li>
</ul>
</li>
<li><strong>nchar &amp; nvarchar</strong><ul>
<li>前缀n表示Unicode字符</li>
<li>使用Unicode字符，即所有字符都占两个字节</li>
<li>char &amp; varchar<ul>
<li>最多8000个英文，4000个汉字</li>
</ul>
</li>
<li>nchar &amp; nvarchar<ul>
<li>可存储4000个字符，无论英文还是汉字</li>
</ul>
</li>
<li>(网)<ul>
<li>如果纯英文数字<ul>
<li>char varchar</li>
</ul>
</li>
<li>如果有中文<ul>
<li>nchar nvarchar</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>text</code><ul>
<li>长文本数据</li>
<li>如果数据超过255个字符</li>
<li>存储二进制数据<ul>
<li>实际上都是存储路径</li>
</ul>
</li>
</ul>
</li>
<li><code>blob</code><ul>
<li>二进制形式的长文本数据（图像,音频等二进制信息）(通常不用)</li>
<li>防止因为字符集的问题导致信息丢失。</li>
</ul>
</li>
<li><code>enum</code><ul>
<li>枚举</li>
<li>事先将所有可能的结果设计好，实际存储数据必须是规定好的数据之一。</li>
<li>枚举存储的数据是数值，节省空间</li>
<li>定义<ul>
<li><code>enum(可能出现的元素列表)</code><ul>
<li><code>enum(&#39;value1&#39;,&#39;value2&#39;,...)</code></li>
</ul>
</li>
</ul>
</li>
<li>使用<ul>
<li>只能添加给出的枚举值中的一个</li>
<li>可以直接插入数值</li>
</ul>
</li>
<li>原理<ul>
<li>枚举在进行数据规范的时候(定义的时候),系统会自动建立一个数字与枚举元素的对应关系(关系放到日志中): 然后在进行数据插入的时候,系统自动将字符转换成对应的数字存储, 然后在进行数据提取的时候, 系统自动将数值转换成对应的字符串显示</li>
<li>从1开始编号，最大65535</li>
</ul>
</li>
</ul>
</li>
<li><code>set</code><ul>
<li>集合类似枚举，实际存储的是整型数值而不是字符串。集合是多选。</li>
<li>定义<ul>
<li><code>set(元素列表)</code></li>
</ul>
</li>
<li>使用<ul>
<li>一次插入可以选其中一个值，也可以选多个值(<code>,</code>隔开)</li>
<li>可以直接插入数值</li>
</ul>
</li>
<li>原理<ul>
<li>类似枚举，集合中每一个元素都是对应一个二进制位<ul>
<li>被选中为1，未选中0，最后反过来就是最终的数值</li>
</ul>
</li>
<li>插入元素的顺序没有关系: 最终系统都会去匹配集合，匹配到的置为1.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="时间日期类型"><a href="#时间日期类型" class="headerlink" title="时间日期类型"></a>时间日期类型</h2><ul>
<li><code>date</code><ul>
<li>日期 <code>yyyy-mm-dd</code></li>
</ul>
</li>
<li><code>time</code><ul>
<li>时间（段） <code>hh:mm:ss</code></li>
<li>可以使用负数</li>
</ul>
</li>
<li><code>datetime</code><ul>
<li>日期时间 <code>yyyy-mm-dd hh:mm:ss</code></li>
<li>表示范围从1000到9999年</li>
<li>有0值<code>0000-00-00 00:00:00</code></li>
</ul>
</li>
<li><code>timestamp</code><ul>
<li>时间戳 ，并不是时间戳，只是从1970年开始的<code>yyyy-mm-dd hh:mm:ss</code></li>
<li>只要当前所在记录被更新，时间戳就会被修改为当前时间。</li>
</ul>
</li>
<li><code>year</code><ul>
<li>年份 <code>YYYY</code></li>
<li><code>year(2)</code><ul>
<li><code>1970~2069</code></li>
</ul>
</li>
<li><code>year(4)</code><ul>
<li><code>1901~2155</code></li>
<li>(0000表示错误)共255</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Mysql记录长度"><a href="#Mysql记录长度" class="headerlink" title="Mysql记录长度"></a>Mysql记录长度</h1><ul>
<li>任何一条记录最长不能超过65535个字节(varchar永远达不到理论值)<ul>
<li>varchar的实际存储长度要看字符编码<ul>
<li>utf-8：21844个字符<ul>
<li>21844*3 + 2 = 65532 + 2 = 65534</li>
</ul>
</li>
<li>gbk：32766个字符<ul>
<li>32766*2 +2 = 65532 + 2 = 65534</li>
</ul>
</li>
</ul>
</li>
<li>但是一个记录中一个varchar字段一个tiny字段会超出长度，因为null会占用一个字节。</li>
</ul>
</li>
<li>mysql记录中，如果有任何一个字段允许为空，那么系统会自动从整个记录中保留一个字节来存储NULL<ul>
<li>若想释放NULL所占用的字节: 必须保证所有的字段都不允许为空</li>
</ul>
</li>
<li>Mysql中text文本字符串,不占用记录长度: 额外存储. 但是text文本字符串也是属于记录的一部分: 一定需要占据记录中的部分长度: 10个字节(保存数据的地址以及长度).</li>
</ul>
<h1 id="列属性"><a href="#列属性" class="headerlink" title="列属性"></a>列属性</h1><h2 id="空属性"><a href="#空属性" class="headerlink" title="空属性"></a>空属性</h2><ul>
<li><code>null</code><ul>
<li>默认</li>
<li>null没有意义，且运算一律返回null，效率不高，影响索引结果，所以建表时通常<code>not null default&#39;&#39;/0/0.00</code><ul>
<li><code>null==null</code><ul>
<li><code>null</code></li>
</ul>
</li>
<li><code>null!=null</code><ul>
<li><code>null</code><ul>
<li>结果还是null，即为false</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>not null</code></li>
</ul>
<h2 id="列描述"><a href="#列描述" class="headerlink" title="列描述"></a>列描述</h2><ul>
<li><code>字段名 数据类型 comment &#39;描述信息&#39;</code><ul>
<li><code>comment</code><ul>
<li>注释，没有实际含义，是专门用来描述字段，会根据表创建语句保存。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h2><ul>
<li><code>字段名 数据类型 default 值</code></li>
<li>默认值的生效<ul>
<li>插入数据时，不给有默认值的字段插入数据</li>
</ul>
</li>
<li>使用默认值时插入数据可以使用<code>default</code>关键字</li>
</ul>
<h2 id="字段属性"><a href="#字段属性" class="headerlink" title="字段属性"></a>字段属性</h2><h3 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h3><ul>
<li><code>primary key</code></li>
</ul>
<h4 id="主键约束"><a href="#主键约束" class="headerlink" title="主键约束"></a>主键约束</h4><ul>
<li>非null 唯一</li>
</ul>
<h4 id="添加主键"><a href="#添加主键" class="headerlink" title="添加主键"></a>添加主键</h4><ol>
<li>建表时在字段后跟primary key<ul>
<li><code>字段名 数据类型 primary key</code><ul>
<li><code>id int primary key</code></li>
</ul>
</li>
<li>优点<ul>
<li>非常直接</li>
</ul>
</li>
<li>缺点<ul>
<li>只能使用一个字段作为主键</li>
</ul>
</li>
</ul>
</li>
<li><p>建表时，在所有字段后使用primary key，可以是复合主键</p>
<ul>
<li><code>primary key(主键字段列表)</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id int ,</span><br><span class="line">name varchar(10),</span><br><span class="line">primary key(id,name)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>表已经创建好之后，追加主键</p>
<ul>
<li>前提<ul>
<li>表中字段对应的数据本身是独立的(不重复)</li>
</ul>
</li>
</ul>
<ol>
<li><code>alter table 表名 modify 字段名 数据类型 primary key</code><ul>
<li>通过修改表字段</li>
</ul>
</li>
<li><code>alter table 表名 add primary key(主键字段列表)</code><ul>
<li>通过给字段添加主键</li>
</ul>
</li>
</ol>
</li>
</ol>
<h4 id="更新主键-amp-删除主键"><a href="#更新主键-amp-删除主键" class="headerlink" title="更新主键 &amp; 删除主键"></a>更新主键 &amp; 删除主键</h4><ul>
<li>主键无法更新，必须先删除才能添加。</li>
<li>删除<ul>
<li><code>alter table 表名 drop primary key</code></li>
</ul>
</li>
</ul>
<h4 id="主键分类"><a href="#主键分类" class="headerlink" title="主键分类"></a>主键分类</h4><ul>
<li>业务主键<ul>
<li>数据的属性字段。</li>
</ul>
</li>
<li>逻辑主键<ul>
<li>实际很少使用数据属性，而是使用没有实际含义的逻辑字段</li>
</ul>
</li>
</ul>
<h3 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h3><ul>
<li>外面的键(键不在自己表中): 如果一张表中有一个字段(非主键)指向另外一张表的主键,那么将该字段称之为外键. </li>
</ul>
<h4 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h4><ul>
<li>外键约束有三种约束模式: 都是针对父表的约束<ul>
<li><code>District</code><ul>
<li>严格模式(默认的), 父表不能删除或者更新一个已经被子表数据引用的记录</li>
</ul>
</li>
<li><code>Cascade</code><ul>
<li>级联模式: 父表的操作, 对应子表关联的数据也跟着被删除</li>
</ul>
</li>
<li><code>Set null</code><ul>
<li>置空模式: 父表的操作之后,子表对应的数据(外键字段)被置空</li>
</ul>
</li>
</ul>
</li>
<li><code>Foreign key(外键字段) references 父表(主键字段) on delete set null on update cascade</code><ul>
<li>通常合理的做法（约束模式）<ul>
<li>删除的时候子表置空<ul>
<li>前提条件: 外键字段允许为空(如果不满足条件,外键无法创建)</li>
</ul>
</li>
<li>更新的时候子表级联操作</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="新增外键"><a href="#新增外键" class="headerlink" title="新增外键"></a>新增外键</h4><ol>
<li>建表时，在所有字段之后<ul>
<li><code>foreign key(外键字段) references 外部表(主键字段)</code></li>
</ul>
</li>
<li>建表后，追加外键<ul>
<li><code>Alter table 表名 add [constraint 外键名字] foreign key(外键字段) references 父表(主键字段)</code></li>
</ul>
</li>
</ol>
<h4 id="修改-amp-删除外键"><a href="#修改-amp-删除外键" class="headerlink" title="修改 &amp; 删除外键"></a>修改 &amp; 删除外键</h4><ul>
<li>外键不可修改: 只能先删除后新增.</li>
<li>删除<ul>
<li><code>Alter table 表名 drop foreign key 外键名</code> </li>
</ul>
</li>
</ul>
<h4 id="外键作用"><a href="#外键作用" class="headerlink" title="外键作用"></a>外键作用</h4><ul>
<li>对子表约束<ul>
<li>子表数据进行写操作(增和改)的时候, 如果对应的外键字段在父表找不到对应的匹配: 那么操作会失败.(约束子表数据操作)</li>
</ul>
</li>
<li>对父表约束<ul>
<li>父表数据进行写操作(删和改: 都必须涉及到主键本身), 如果对应的主键在子表中已经被数据所引用, 那么就不允许操作</li>
<li>即先删除外键所在数据，才能删除主键数据</li>
</ul>
</li>
</ul>
<h4 id="外键条件"><a href="#外键条件" class="headerlink" title="外键条件"></a>外键条件</h4><ol>
<li>外键要存在，首先必须保证表的存储引擎是innodb(默认的存储引擎)<ul>
<li>如果不是innodb存储引擎,那么外键可以创建成功,但是没有约束效果</li>
</ul>
</li>
<li>外键字段的字段类型(列类型)必须与父表的主键类型完全一致</li>
<li>一张表中的外键名字不能重复.</li>
<li>增加外键的字段(数据已经存在),必须保证数据与父表主键要求对应</li>
</ol>
<h3 id="自增长"><a href="#自增长" class="headerlink" title="自增长"></a>自增长</h3><ul>
<li><code>auto_increment</code></li>
<li>当对应的字段,不给值,或者说给默认值,或者给NULL的时候, 会自动的被系统触发, 系统会从当前字段中已有的最大值再进行+1操作</li>
<li>自增长通常搭配主键</li>
</ul>
<h4 id="新增自增长"><a href="#新增自增长" class="headerlink" title="新增自增长"></a>新增自增长</h4><ol>
<li>任何一个字段要做自增长必须前提是本身是一个索引(key一栏有值)</li>
<li>自增长字段必须是数字(整型)</li>
<li>3.一张表最多只能有一个自增长</li>
</ol>
<h4 id="自增长使用"><a href="#自增长使用" class="headerlink" title="自增长使用"></a>自增长使用</h4><ul>
<li>当自增长被给定的值为NULL或者默认值的时候会触发自动增长</li>
<li>自增长如果对应的字段输入了值,那么自增长失效: 但是下一次还是能够正确的自增长(从最大值+1)</li>
<li>可以通过查看表创建语句查看下一次自增长的值</li>
</ul>
<h4 id="修改自增长"><a href="#修改自增长" class="headerlink" title="修改自增长"></a>修改自增长</h4><ul>
<li>如果涉及到字段改变<ul>
<li>必须先删除自增长,后增加</li>
</ul>
</li>
<li>修改当前自增长已经存在的值<ul>
<li><code>alter table 表名 auto_increment = 值</code></li>
<li>只能比当前已有的自增长的最大值大,不能小(小不生效)</li>
</ul>
</li>
</ul>
<h4 id="删除自增长"><a href="#删除自增长" class="headerlink" title="删除自增长"></a>删除自增长</h4><ul>
<li><code>alter table 表名 modify 字段名 数据类型</code><ul>
<li>自增长是字段的一个属性: 可以通过modify来进行修改，只要保证字段没有auto_increment即可</li>
</ul>
</li>
</ul>
<h4 id="自增长初始值-amp-种子"><a href="#自增长初始值-amp-种子" class="headerlink" title="自增长初始值 &amp; 种子"></a>自增长初始值 &amp; 种子</h4><ul>
<li><code>show variables like ‘auto_increment%’</code><ul>
<li>查看自增长对应变量</li>
<li>初始值<ul>
<li><code>auto_increment_increment</code></li>
</ul>
</li>
<li>种子<ul>
<li><code>auto_increment_offset</code> </li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="唯一键"><a href="#唯一键" class="headerlink" title="唯一键"></a>唯一键</h3><ul>
<li><code>unique key</code></li>
</ul>
<h4 id="唯一约束"><a href="#唯一约束" class="headerlink" title="唯一约束"></a>唯一约束</h4><ul>
<li>唯一，可以为null，且可以有多个null(null不参与唯一性比较)</li>
</ul>
<h4 id="新增唯一键"><a href="#新增唯一键" class="headerlink" title="新增唯一键"></a>新增唯一键</h4><ol>
<li>建表时，字段后跟unique key<ul>
<li><code>字段名 数据类型 unique/unique key</code></li>
</ul>
</li>
<li>建表时，在所有字段后增加<code>unique key(字段列表)</code></li>
<li>建表之后，追加唯一键<ul>
<li><code>alter table 表名 add unique key(字段列表)</code></li>
</ul>
</li>
</ol>
<h4 id="删除唯一键"><a href="#删除唯一键" class="headerlink" title="删除唯一键"></a>删除唯一键</h4><ul>
<li><code>alter table 表名 drop index 索引名字</code><ul>
<li>唯一键默认的使用字段名作为索引名字</li>
</ul>
</li>
</ul>
<h1 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h1><ul>
<li><code>alter table 表名 add constraint 约束名 约束类型 约束说明</code><ul>
<li>约束名命名规则<ul>
<li>约束类型_约束列</li>
<li>主键(primary key) <ul>
<li>pk_uId</li>
</ul>
</li>
<li>唯一(unique) <ul>
<li>uq_uId</li>
</ul>
</li>
<li>默认(default key)<ul>
<li>dk_uId</li>
</ul>
</li>
<li>检查(check key)<ul>
<li>ck_uId</li>
</ul>
</li>
<li>外键(foreign key)<ul>
<li>fk_uid </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>alter table 表名 drop constraint 约束名</code></li>
</ul>
<h2 id="主键约束-1"><a href="#主键约束-1" class="headerlink" title="主键约束"></a>主键约束</h2><ul>
<li><code>alter table 表名 add constraint 主键约束名 primary key(字段列表);</code></li>
</ul>
<h2 id="外键约束-1"><a href="#外键约束-1" class="headerlink" title="外键约束"></a>外键约束</h2><ul>
<li><code>ALTER TABLE 表名 ADD FOREIGN KEY (字段名) REFERENCES 表名(字段名)</code></li>
</ul>
<h1 id="高级数据操作"><a href="#高级数据操作" class="headerlink" title="高级数据操作"></a>高级数据操作</h1><h2 id="增-3"><a href="#增-3" class="headerlink" title="增"></a>增</h2><h3 id="主键冲突"><a href="#主键冲突" class="headerlink" title="主键冲突"></a>主键冲突</h3><ul>
<li>在数据插入的时候, 假设主键对应的值已经存在: 插入一定会失败</li>
<li>当主键存在冲突的时候(Duplicate key)<ol>
<li>更新<ul>
<li><code>Insert into 表名[字段列表(包含主键)] values(值列表) on duplicate key update 字段 = 新值</code></li>
</ul>
</li>
<li>替换<ul>
<li><code>Replace into 表名 [字段列表(包含主键)] values(值列表)</code></li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="蠕虫复制"><a href="#蠕虫复制" class="headerlink" title="蠕虫复制"></a>蠕虫复制</h3><ul>
<li>从已有的数据中去获取数据,然后将数据又进行新增操作: 数据成倍的增加</li>
<li>从已有表创建新表(复制表结构)<ul>
<li><code>create table 表名 like 数据库.表名</code></li>
</ul>
</li>
<li>蠕虫复制<ul>
<li>先查出数据, 然后将查出的数据新增一遍</li>
<li><code>insert into 表名[字段列表] select 字段类别/* from 数据表名</code></li>
</ul>
</li>
<li>蠕虫复制的意义<ol>
<li>从已有表拷贝数据到新表中</li>
<li>可以迅速的让表中的数据膨胀到一定的数量级: 测试表的压力以及效率</li>
</ol>
</li>
</ul>
<h2 id="删-3"><a href="#删-3" class="headerlink" title="删"></a>删</h2><ul>
<li><code>Delete from 表名 [where条件] [limit 数量]</code></li>
</ul>
<h2 id="改-3"><a href="#改-3" class="headerlink" title="改"></a>改</h2><ul>
<li><code>Update 表名 set 字段 = 值 [where条件] [limit 更新数量]</code></li>
</ul>
<h2 id="查-3"><a href="#查-3" class="headerlink" title="查"></a>查</h2><h3 id="查询完整语法"><a href="#查询完整语法" class="headerlink" title="查询完整语法"></a>查询完整语法</h3><ul>
<li><code>Select [select选项] 字段列表[字段别名]/* from 数据源 [where条件子句] [group by子句] [having子句] [order by子句] [limit 子句]</code><ol>
<li>where从表中查询出符合条件的数据形成一个概念中的临时结果集，存入内存</li>
<li>列之间的运算(select子句中)及分组(group by)统计进行完毕，临时结果形成结果集。</li>
<li>having对结果集进行筛选。</li>
<li>order by对筛选后的结果集进行排序。</li>
<li>limit对排序后的结果集进行条目限制，形成最终结果集。</li>
</ol>
<ul>
<li>问题<ul>
<li>1<code>select id (salary*12) as 年薪 from persons where (salary*12)&gt;100</code></li>
<li>2<code>select id (salary*12) as 年薪 from persons where 年薪&gt;100</code></li>
<li>2是错误的。因为where是对表中的数据发挥作用，查询出数据来。发挥完作用形成的结果中才有列’年薪’,在where中直接使用列’年薪’时，显然表中并没有这个列。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="select选项"><a href="#select选项" class="headerlink" title="select选项"></a>select选项</h3><ul>
<li>select对查出来的结果的处理方式<ul>
<li><code>all</code><ul>
<li>默认，保留所有结果</li>
</ul>
</li>
<li><code>distinct</code><ul>
<li>去重, 查出来的结果,将重复给去除</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="字段别名"><a href="#字段别名" class="headerlink" title="字段别名"></a>字段别名</h3><ul>
<li><code>字段名 [as] 别名</code></li>
</ul>
<h3 id="数据源"><a href="#数据源" class="headerlink" title="数据源"></a>数据源</h3><ul>
<li>本质上只要保证数据类似二维表,最终都可以作为数据源</li>
</ul>
<h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul>
<li>单表数据源<ul>
<li><code>select * from 表名</code></li>
</ul>
</li>
<li>多表数据源<ul>
<li><code>select * from 表1,表2...</code><ul>
<li>笛卡儿积</li>
</ul>
</li>
</ul>
</li>
<li>查询语句<ul>
<li><code>select * from (select语句) as 表名</code><ul>
<li>子查询</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="where子句"><a href="#where子句" class="headerlink" title="where子句"></a>where子句</h3><ul>
<li><code>&gt;</code> <code>&lt;</code> <code>=</code>  <code>!=</code>  <code>&lt;&gt;</code>  <code>&lt;=</code>  <code>&gt;=</code></li>
<li><code>and(&amp;&amp;)</code> <code>or(||)</code> <code>not(!)</code></li>
<li><code>between and</code></li>
<li><code>in()</code></li>
<li><code>any()</code><ul>
<li>代表括号中任意一个即可，同<code>in()</code></li>
</ul>
</li>
<li><code>all()</code><ul>
<li>代表括号中的所有</li>
</ul>
</li>
<li><code>is null</code> <code>is not null</code></li>
<li><code>like</code><ul>
<li><code>%</code><ul>
<li>代表任意字符。</li>
</ul>
</li>
<li><code>_</code><ul>
<li>代表一个任意字符。</li>
</ul>
</li>
</ul>
</li>
<li>where原理<ul>
<li>where是唯一一个直接从磁盘获取数据的时候就开始判断的条件: 从磁盘取出一条记录, 开始进行where判断: 判断的结果如果成立保存到内存;如果失败直接放弃</li>
<li>where保证进入内存的数据都是有效的</li>
<li>where子句中只能用表中有的列，且不能使用别名</li>
</ul>
</li>
</ul>
<h3 id="group-by子句"><a href="#group-by子句" class="headerlink" title="group by子句"></a>group by子句</h3><ul>
<li>通常结合聚合函数使用</li>
<li>分组会自动排序: 根据分组字段:默认升序<ul>
<li><code>Group by 字段 [asc|desc]</code><ul>
<li>对分组后的整个结果进行排序</li>
</ul>
</li>
</ul>
</li>
<li>多字段分组<ul>
<li>先根据一个字段进行分组,然后对分组后的结果再次按照其他字段进行分组</li>
</ul>
</li>
<li>注意:<ul>
<li>select子句中出现的非聚合函数的列,必须出现在group by子句中。<ul>
<li>充分不必要</li>
<li>即select的列如果不是函数，那么必须是用来group by的列</li>
<li>而用来group by的列，不必非要select。</li>
<li>这是sql标准，mysql中违反也不报错，但强烈不推荐。</li>
</ul>
</li>
</ul>
</li>
<li><code>group_concat(字段)</code><ul>
<li>可以对分组的结果中的某个字段进行字符串连接(保留该组所有的此字段)</li>
<li>用在select中，比如按班级分组，<code>select class,group_concat(name)</code><ul>
<li>可以按照班级分组后，并查出每个班级的人的名字</li>
</ul>
</li>
</ul>
</li>
<li><code>with rollup</code><ul>
<li>回溯统计<ul>
<li>任何一个分组后都会有一个小组, 最后都需要向上级分组进行汇报统计</li>
</ul>
</li>
<li>我的认为就是在原有分组结果上对每一层的每一个分组都做一下统计<ul>
<li>按班级分组<ul>
<li>原结果是3班 3条记录</li>
<li>回溯结果<ul>
<li>班级向上层回溯，1条记录</li>
<li>原3+1=4条记录</li>
</ul>
</li>
</ul>
</li>
<li>按班级，性别分组<ul>
<li>原结果1班没男的，2班没女的，3班都有，4条记录</li>
<li>回溯结果<ul>
<li>性别那一层向上一层(班级)回溯，就会有3条记录，因为有3个班级</li>
<li>班级那一层向上层回溯，1条记录</li>
<li>原4+3+1=8条记录</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><ul>
<li><code>max()</code></li>
<li><code>min()</code></li>
<li><code>sum()</code></li>
<li><code>avg()</code></li>
<li><code>count()</code><ul>
<li>可以使用两种参数<ol>
<li><code>*</code><ul>
<li>代表统计记录，即使某行所有字段皆为null也统计</li>
<li>安（用数字，字母等代替也可以。。）<ul>
<li><code>count(1) count(0) count(x)</code><ul>
<li><code>count(1)</code>相当于数了总行数次1</li>
<li><code>count(0)</code>相当于数了总行数次0</li>
<li><code>count(x)</code>相当于数了总行数次x</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>字段名</code><ul>
<li>统计对应的字段，如果某行该字段为空，不会统计</li>
</ul>
</li>
</ol>
<ul>
<li><code>count(表达式)</code><ul>
<li>表达式没用。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="having子句"><a href="#having子句" class="headerlink" title="having子句"></a>having子句</h3><ul>
<li>Where是针对磁盘数据进行判断: 进入到内存之后,会进行分组统计，列运算…就需要having来处理.</li>
<li>where只能用表中存在的字段名</li>
<li>having可以使用别名</li>
</ul>
<h3 id="order-by子句"><a href="#order-by子句" class="headerlink" title="order by子句"></a>order by子句</h3><ul>
<li>依赖校对集</li>
<li><code>asc</code><ul>
<li>升序，默认。</li>
</ul>
</li>
<li><code>desc</code><ul>
<li>降序</li>
</ul>
</li>
<li><code>order by 列1 asc,列2 desc...</code><ul>
<li>前一个条件排序结果相同才会按照下一个条件排序。</li>
</ul>
</li>
</ul>
<h3 id="limit子句"><a href="#limit子句" class="headerlink" title="limit子句"></a>limit子句</h3><ul>
<li><code>limit index length</code><ul>
<li>从index开始，取length条数据。</li>
<li>index<ul>
<li>起始索引，若省略相当于0。</li>
</ul>
</li>
<li>length<ul>
<li>条目数。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><ul>
<li>length<ul>
<li>每页数据量，基本不变</li>
</ul>
</li>
<li>index<ul>
<li>index=(页码-1)*length</li>
</ul>
</li>
</ul>
<h2 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a>连接查询</h2><h3 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h3><ul>
<li><code>from 左表 cross join 右表</code> == <code>from 左表,右表</code></li>
</ul>
<h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><ul>
<li>从一张表中循环取出每一条记录, 每条记录都去另外一张表进行匹配: 匹配一定保留(没有条件匹配), 而连接本身字段就会增加(保留),最终形成的结果: 笛卡尔积.</li>
</ul>
<h4 id="笛卡儿积"><a href="#笛卡儿积" class="headerlink" title="笛卡儿积"></a>笛卡儿积</h4><ul>
<li>指数学中两个集合的笛卡儿积<ul>
<li>`集合A={a, b}，集合B={0, 1, 2}<ul>
<li>则两个集合的笛卡尔积为{(a, 0), (a, 1), (a, 2), (b, 0), (b, 1), (b, 2)}`</li>
</ul>
</li>
<li>注意笛卡儿积是元素相组合，不是数学相乘。</li>
<li>集合A有m个元素，集合B有n个元素<ul>
<li>笛卡儿积总共<code>m*n</code>个元素。</li>
</ul>
</li>
</ul>
</li>
<li>数据库中的笛卡儿积<ul>
<li>表A中有m条数据，表B中有n条数据<ul>
<li><code>select * from 表A,表B;</code><ul>
<li><code>行=m*n</code></li>
<li><code>列=表A的列数+表B的列数</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><ul>
<li><code>from 左表 [inner] join 右表 on</code>  ==  <code>from 左表,右表 where</code></li>
</ul>
<h4 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a>概念</h4><ul>
<li>从左表中取出每一条记录,去右表中与所有的记录进行匹配: 匹配必须是某个条件在左表中与右表中相同最终才会保留结果,否则不保留</li>
<li>查出两表符合条件的数据。</li>
<li>内连接相当于左外连接与右外连接的交集。</li>
<li>内连接可以没有on条件，就相当于交叉连接会形成笛卡儿积，可以参考where形式没有where条件。</li>
</ul>
<h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><h4 id="概念-3"><a href="#概念-3" class="headerlink" title="概念"></a>概念</h4><ul>
<li>以某张表为主,取出里面的所有记录, 然后每条与另外一张表进行连接: 不管能不能匹配上条件,最终都会保留: 能匹配,正确保留; 不能匹配,其他表的字段都置空NULL.</li>
</ul>
<h4 id="左外连接"><a href="#左外连接" class="headerlink" title="左外连接"></a>左外连接</h4><ul>
<li><code>左表 left join 右表 on</code><ul>
<li>以左表为主，无论条件是否成立，都会查出左表的数据。</li>
<li>条件成立，保留右表数据</li>
<li>条件不成立，右表字段置为null</li>
</ul>
</li>
</ul>
<h4 id="右外连接"><a href="#右外连接" class="headerlink" title="右外连接"></a>右外连接</h4><ul>
<li><code>左表 right join 右表 on</code></li>
</ul>
<h3 id="自然连接"><a href="#自然连接" class="headerlink" title="自然连接"></a>自然连接</h3><ul>
<li>自然连接, 就是自动匹配连接条件: 系统以字段名字作为匹配模式(同名字段就作为条件, 多个同名字段都作为条件).</li>
</ul>
<h3 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h3><ul>
<li>把自己看作两张表，自己连接自己</li>
</ul>
<h3 id="连接-例"><a href="#连接-例" class="headerlink" title="连接 例"></a>连接 例</h3><ul>
<li>表<strong>t1</strong></li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>a</td>
</tr>
<tr>
<td>2</td>
<td>b</td>
</tr>
<tr>
<td>3</td>
<td>c</td>
</tr>
</tbody>
</table>
<ul>
<li>表<strong>t2</strong></li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>D</td>
</tr>
<tr>
<td>3</td>
<td>E</td>
</tr>
<tr>
<td>4</td>
<td>F</td>
</tr>
</tbody>
</table>
<h3 id="inner-join-on"><a href="#inner-join-on" class="headerlink" title="inner join on"></a>inner join on</h3><ul>
<li><code>select * from t1 inner join t2 on t1.id=t2.id;</code></li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>id</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>a</td>
<td>2</td>
<td>D</td>
</tr>
<tr>
<td>3</td>
<td>c</td>
<td>3</td>
<td>E</td>
</tr>
</tbody>
</table>
<h3 id="left-join-on"><a href="#left-join-on" class="headerlink" title="left join on"></a>left join on</h3><ul>
<li><code>select * from t1 left join t2 on t1.id=t2.id;</code></li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>id</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>a</td>
<td>null</td>
<td>null</td>
</tr>
<tr>
<td>2</td>
<td>b</td>
<td>2</td>
<td>D</td>
</tr>
<tr>
<td>3</td>
<td>c</td>
<td>3</td>
<td>E</td>
</tr>
</tbody>
</table>
<h3 id="right-join-on"><a href="#right-join-on" class="headerlink" title="right join on"></a>right join on</h3><ul>
<li><code>select * from t1 right join t2 on t1.id=t2.id;</code></li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>id</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>b</td>
<td>2</td>
<td>D</td>
</tr>
<tr>
<td>3</td>
<td>c</td>
<td>3</td>
<td>E</td>
</tr>
<tr>
<td>null</td>
<td>null</td>
<td>4</td>
<td>F</td>
</tr>
</tbody>
</table>
<h3 id="full-join-on-mysql不支持"><a href="#full-join-on-mysql不支持" class="headerlink" title="full join on(mysql不支持)"></a>full join on(mysql不支持)</h3><ul>
<li><code>select * from t1 full join t2 on t1.id=t2.id;</code></li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>id</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>a</td>
<td>null</td>
<td>null</td>
</tr>
<tr>
<td>2</td>
<td>b</td>
<td>2</td>
<td>D</td>
</tr>
<tr>
<td>3</td>
<td>c</td>
<td>3</td>
<td>E</td>
</tr>
<tr>
<td>null</td>
<td>null</td>
<td>4</td>
<td>F</td>
</tr>
</tbody>
</table>
<h2 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h2><ul>
<li>将多次查询(多条select语句), 在记录上进行拼接(字段不会增加)<ul>
<li>联合查询只要求字段一样, 跟数据类型无关</li>
</ul>
</li>
<li><code>select 语句1 union [union选项] select 语句2</code><ul>
<li>union选项<ul>
<li><code>distinct</code><ul>
<li>去除重复，默认</li>
</ul>
</li>
<li><code>all</code><ul>
<li>保留所有</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><ol>
<li>查询同一张表,但是需求不同:<ul>
<li>如查询学生信息, 男生身高升序, 女生身高降序</li>
</ul>
</li>
<li>多表查询: 多张表的结构是完全一样的,保存的数据(结构)也是一样的</li>
</ol>
<h3 id="order-by-使用"><a href="#order-by-使用" class="headerlink" title="order by 使用"></a>order by 使用</h3><ul>
<li>在联合查询中: order by不能直接使用,需要对查询语句使用括号才行</li>
<li>若要orderby生效<ul>
<li>必须搭配limit: limit使用限定的最大数即可</li>
</ul>
</li>
<li>外层语句可能还要对最终结果集排序，所以内层的两个语句的排序没有意义，所以内层(sql1,sql2)的order by在执行期间会被MySQL的代码分析器给优化掉。<ul>
<li>如果内层语句排序（order by）之后还限制条目（limit）了，那么排序会影响结果集，此时的order by就会发挥作用。</li>
<li>总结：<ul>
<li>如果两个合并的sql语句中有排序（order by），如果排序会对两个sql的结果集产生影响(如limit)那么排序就会生效，否则，排序语句不会生效。</li>
<li>外层的order by针对的是最终结果集。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><ul>
<li>查询是在某个查询结果之上进行的.(一条select语句内部包含了另外一条select语句).</li>
</ul>
<h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><h4 id="按位置"><a href="#按位置" class="headerlink" title="按位置"></a>按位置</h4><h5 id="From子查询"><a href="#From子查询" class="headerlink" title="From子查询"></a>From子查询</h5><ul>
<li><code>from (sql)</code><ul>
<li>将子查询结果集看作是一张表。</li>
</ul>
</li>
</ul>
<h5 id="Where子查询"><a href="#Where子查询" class="headerlink" title="Where子查询"></a>Where子查询</h5><ul>
<li><code>where 字段 = (sql)</code></li>
<li><code>where 字段 in (sql)</code></li>
<li><code>where (字段1,字段2) = (sql)</code></li>
</ul>
<h5 id="Exists子查询"><a href="#Exists子查询" class="headerlink" title="Exists子查询"></a>Exists子查询</h5><ul>
<li><code>where exists(sql)</code><ul>
<li>exists子查询就是用来判断某些条件是否满足(跨表), exists是接在where之后: exists返回的结果只有0和1</li>
<li>exists里的条件语句能够返回记录行时,条件就为真,select的查询就返回结果，否则，select的查询结果就舍弃。<ul>
<li>即如果sql有查询结果，则select查询有结果。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="按结果"><a href="#按结果" class="headerlink" title="按结果"></a>按结果</h4><h5 id="标量子查询"><a href="#标量子查询" class="headerlink" title="标量子查询"></a>标量子查询</h5><ul>
<li>子查询得到的结果是一行一列</li>
<li>出现的位置在where之后 where子查询</li>
<li>例<ul>
<li>学生表，班级表</li>
<li>根据班级名查询班级id，根据班级id查询学生信息</li>
<li><code>select * from student where cid = (select id from class where name = &#39;1ban&#39;)</code></li>
</ul>
</li>
</ul>
<h5 id="列子查询"><a href="#列子查询" class="headerlink" title="列子查询"></a>列子查询</h5><ul>
<li>子查询得到的结果是一列多行</li>
<li>出现的位置在where之后 where子查询</li>
<li>例<ul>
<li>查询所有在读的学生即所有班级的学生</li>
<li><code>select * from student where cid in (select id from class)</code></li>
</ul>
</li>
</ul>
<h5 id="行子查询"><a href="#行子查询" class="headerlink" title="行子查询"></a>行子查询</h5><ul>
<li>子查询得到的结果是多列一行(多行多列)</li>
<li>出现的位置在where之后 where子查询</li>
<li>例<ul>
<li>查询身高最高，年龄最大的学生信息</li>
<li><code>select * from student where age=(select max(age) from student) and height=(select max(height) from student)</code></li>
<li><code>select * from student where (age,height) = (select max(age),max(height) from student)</code></li>
</ul>
</li>
</ul>
<h5 id="表子查询"><a href="#表子查询" class="headerlink" title="表子查询"></a>表子查询</h5><ul>
<li>子查询得到的结果是多行多列</li>
<li>出现的位置是在from之后 from子查询</li>
</ul>
<h1 id="Mysql-字符集"><a href="#Mysql-字符集" class="headerlink" title="Mysql 字符集"></a>Mysql 字符集</h1><ul>
<li><code>show character set</code><ul>
<li>查看服务器支持的字符集</li>
</ul>
</li>
<li><code>show variables like &#39;character_set%&#39;</code><ul>
<li>查看服务器默认的对外处理的字符集</li>
<li><code>character_set_client</code></li>
<li><code>character_set_connection</code></li>
<li><code>character_set_database</code><ul>
<li>创建数据库的编码格式，没有指定就默认</li>
</ul>
</li>
<li><code>character_set_filesystem</code><ul>
<li>文件系统的编码格式，把操作系统上的文件名转化成此字符集，即把 <code>character_set_client</code>转换<code>character_set_filesystem</code>， 默认binary是不做任何转换的</li>
</ul>
</li>
<li><code>character_set_results</code></li>
<li><code>character_set_server</code></li>
<li><code>character_set_system</code><ul>
<li>数据库系统使用的编码格式，这个值一直是utf8，不需要设置，它是为存储系统元数据的编码格式</li>
</ul>
</li>
<li><code>character_sets_dir</code><ul>
<li>字符集安装的目录</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="中文乱码问题"><a href="#中文乱码问题" class="headerlink" title="中文乱码问题"></a>中文乱码问题</h2><ul>
<li><code>character_set_client</code><ul>
<li>客户端字符集（服务器认为的要存储的数据的字符集）</li>
</ul>
</li>
<li><code>character_set_connection</code><ul>
<li>连接器字符集</li>
</ul>
</li>
<li><code>character_set_server</code><ul>
<li>服务端字符集(存储到服务器的字符集)</li>
</ul>
</li>
<li><code>character_set_results</code><ul>
<li>服务器返回数据(查询结果)字符集</li>
</ul>
</li>
</ul>
<h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><ul>
<li><code>set 变量 = 值</code><ul>
<li>修改只是会话级别(当前客户端,当次连接有效: 关闭失效)</li>
</ul>
</li>
<li><code>set names 值</code><ul>
<li>相当于同时设置</li>
<li><code>character_set_client</code></li>
<li><code>character_set_connection</code></li>
<li><code>character_set_results</code></li>
</ul>
</li>
</ul>
<h2 id="存"><a href="#存" class="headerlink" title="存"></a>存</h2><ul>
<li><code>数据字符集 ↔ character_set_client → character_set_connection → character_set_server</code><ul>
<li><code>数据</code>↔<code>客户端</code>→<code>连接器</code>→<code>服务端</code></li>
<li>存数据最终是按照服务端设置的编码存的</li>
<li>连接器的字符集不应太小，否则转换过程会损失数据。</li>
</ul>
</li>
<li>过程<ol>
<li>数据本身的字符集要与<code>character_set_client</code>一致<ul>
<li>因为服务器认为提交的数据是<code>character_set_client</code>的，如果不是就会出问题。</li>
</ul>
</li>
<li>把数据从<code>character_set_client</code>转为<code>character_set_connection</code><ul>
<li>若一致则不转换</li>
</ul>
</li>
<li>把数据从<code>character_set_connection</code>转为<code>character_set_server</code><ul>
<li>若一致则不转换</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2 id="取"><a href="#取" class="headerlink" title="取"></a>取</h2><ul>
<li><code>character_set_server → character_set_connection → character_set_results ↔ character_set_client</code><ul>
<li><code>服务端</code>→<code>连接器</code>→<code>查询结果</code>↔<code>客户端</code></li>
<li>取数据最终是按照结果集的字符集返回给客户端。</li>
<li>保证结果集和客户端字符集一致即可。</li>
</ul>
</li>
<li>过程<ol>
<li>把数据从<code>character_set_server</code>转为<code>character_set_connection</code><ul>
<li>若一致则不转换</li>
</ul>
</li>
<li>把数据从<code>character_set_connection</code>转为<code>character_set_results</code><ul>
<li>若一致则不转换</li>
</ul>
</li>
<li>比较<code>character_set_results</code>和<code>character_set_client</code>的字符集<ul>
<li>不一致则乱码</li>
</ul>
</li>
</ol>
</li>
</ul>
<h1 id="Mysql校对集"><a href="#Mysql校对集" class="headerlink" title="Mysql校对集"></a>Mysql校对集</h1><ul>
<li>校对集<ul>
<li>数据比较的方式</li>
</ul>
</li>
<li>校对集依赖字符集<ul>
<li>例如<ul>
<li><code>default-character-set=utf8</code></li>
<li><code>default-collation=utf8_general_ci</code></li>
</ul>
</li>
</ul>
</li>
<li><code>show collation</code><ul>
<li>查看数据库支持的校对集</li>
</ul>
</li>
<li>只有当数据产生比较的时候,校对集才会生效<ul>
<li>如<code>order by</code></li>
</ul>
</li>
<li>必须在没有数据之前声明好校对集，如果有了数据再进行校对集修改，修改无效</li>
</ul>
<h2 id="校对集格式"><a href="#校对集格式" class="headerlink" title="校对集格式"></a>校对集格式</h2><ul>
<li><code>_bin</code><ul>
<li><code>binary</code></li>
<li>二进制比较, 取出二进制位,一位一位的比较, 区分大小写</li>
</ul>
</li>
<li><code>_cs</code><ul>
<li><code>case sensitive</code></li>
<li>大小写敏感, 即区分大小写</li>
</ul>
</li>
<li><code>_ci</code><ul>
<li><code>case insensitice</code></li>
<li>大小写不敏感,即不区分大小写</li>
</ul>
</li>
</ul>
<h1 id="范式"><a href="#范式" class="headerlink" title="范式"></a>范式</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><ul>
<li><code>Normal Format</code><ul>
<li>是一种离散数学中的知识, 是为了解决一种数据的存储与优化的问题: 保存数据的存储之后, 凡是能够通过关系寻找出来的数据,坚决不再重复存储: 终极目标是为了减少数据的冗余.</li>
</ul>
</li>
<li>范式是一种分层结构的规范, 分为六层: 每一次层都比上一层更加严格: 若要满足下一层范式,前提是满足上一层范式.<ul>
<li>1NF,2NF,3NF…6NF</li>
<li>1NF是最底层,要求最低;6NF最高层,最严格</li>
</ul>
</li>
</ul>
<h2 id="1NF"><a href="#1NF" class="headerlink" title="1NF"></a>1NF</h2><ul>
<li>第一范式: 在设计表存储数据的时候, 如果表中设计的字段存储的数据,在取出来使用之前还需要额外的处理(拆分),那么说表的设计不满足第一范式</li>
<li>第一范式要求字段的数据具有原子性: 不可再分</li>
<li>解决<ul>
<li>拆分字段</li>
</ul>
</li>
</ul>
<h2 id="2NF"><a href="#2NF" class="headerlink" title="2NF"></a>2NF</h2><ul>
<li>第二范式: 在数据表设计的过程中,如果有复合主键(多字段主键), 且表中有字段并不是由整个主键来确定, 而是依赖主键中的某个字段(主键的部分): 存在字段依赖主键的部分的问题, 称之为部分依赖:</li>
<li>第二范式就是要解决表设计不允许出现部分依赖</li>
<li>解决<ol>
<li>可以将复合主键字段单独成表</li>
<li>取消复合主键，使用逻辑主键 </li>
</ol>
</li>
</ul>
<h2 id="3NF"><a href="#3NF" class="headerlink" title="3NF"></a>3NF</h2><ul>
<li>第三范式: 理论上讲,应该一张表中的所有字段都应该直接依赖主键(逻辑主键: 代表的是业务主键), 如果表设计中存在一个字段, 并不直接依赖主键,而是通过某个非主键字段依赖,最终实现依赖主键: 把这种不是直接依赖主键,而是依赖非主键字段的依赖关系称之为传递依赖</li>
<li>第三范式就是要解决传递依赖的问题.</li>
<li>解决<ul>
<li>将存在传递依赖的字段,以及依赖的字段本身单独取出,形成一个单独的表, 然后在需要对应的信息的时候, 使用对应的实体表的主键加进来.</li>
</ul>
</li>
</ul>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><ul>
<li>系统根据某种算法, 将已有的数据(未来可能新增的数据),单独建立一个文件: 文件能够实现快速的匹配数据, 并且能够快速的找到对应表中的记录</li>
<li>几乎所有的索引都是建立在字段之上</li>
<li>索引本身会产生索引文件(有时候有可能比数据文件还大) ,会非常耗费磁盘空间.<ul>
<li>就像字典前边的目录，会提高速度，但也会增加书的厚度</li>
<li>索引提高了查询速度，但降低了增删改的速度，并非越多越好</li>
</ul>
</li>
</ul>
<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><ol>
<li>提升查询数据的效率<ul>
<li>如果某个字段需要作为查询的条件经常使用，那么可以使用索引</li>
</ul>
</li>
<li>约束数据的有效性(唯一性等)<ul>
<li>如果某个字段需要进行数据的有效性约束, 也可能使用索引(主键,唯一键)</li>
</ul>
</li>
</ol>
<h2 id="分类-2"><a href="#分类-2" class="headerlink" title="分类"></a>分类</h2><ul>
<li><strong>key</strong><ul>
<li>普通索引</li>
<li><code>key 索引名(列名)</code></li>
</ul>
</li>
<li><strong>unique key</strong><ul>
<li>唯一索引</li>
<li><code>unique key 索引名(列名)</code></li>
</ul>
</li>
<li><strong>primary key</strong><ul>
<li>主键索引</li>
<li><code>primary key 索引名(列名)</code></li>
</ul>
</li>
<li><strong>funlltext</strong><ul>
<li>全文索引</li>
<li>中文环境下无效，要分词+索引，一般用第三方解决方案<ul>
<li>如<code>sphinx</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>索引长度</strong><ul>
<li>建索引时，可以只索引列的一部分内容，如前10个字符<ul>
<li><code>key 索引名(列名(10))</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>多列索引</strong><ul>
<li>就是把多个列的值，看成一个整体，然后建立索引<ul>
<li>如有两个列<code>xing</code>,<code>ming</code></li>
<li><code>key xm(xing,ming)</code><ul>
<li>查询时按照姓名查就会使用索引</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>冗佘索引</strong><ul>
<li>某个列上存在多个索引<ul>
<li>比如一个列有个索引，还有个多列索引。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="索引操作"><a href="#索引操作" class="headerlink" title="索引操作"></a>索引操作</h2><ul>
<li>查看表的索引<ul>
<li><code>show index from 表名</code></li>
</ul>
</li>
<li>添加普通和唯一索引<ul>
<li><code>alter table 表名 add index/unique 索引名(列名)</code></li>
</ul>
</li>
<li>添加主键索引<ul>
<li><code>alter table 表名 add primary key(列名)</code></li>
</ul>
</li>
<li>删除索引<ul>
<li><code>alter table 表名 drop index 索引名</code></li>
<li><code>drop index 索引名 on 表名</code></li>
</ul>
</li>
</ul>
<h1 id="视图view"><a href="#视图view" class="headerlink" title="视图view"></a>视图view</h1><h2 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h2><ul>
<li>view可以看作是一张虚拟表，是表通过某种运算得到的一个投影。</li>
<li>视图中并没有真正存储数据。</li>
<li>表的改变会影响视图(视图就好像表的影子一样)</li>
<li>视图的改变也能影响表。(如果可以改变的话)</li>
<li>可以跟基本表一样，进行增删改查操作</li>
</ul>
<h2 id="数据操作-1"><a href="#数据操作-1" class="headerlink" title="数据操作"></a>数据操作</h2><ul>
<li>主要是用来查询</li>
<li>增删改操作有条件限制<ul>
<li>如果视图的数据与表的数据是一一对应出来的，改变不会影响其它数据，就可以增删改。</li>
<li>如果视图的数据是通过计算得来的，改变则会影响表中的其它数据，不可以增删改。</li>
</ul>
</li>
</ul>
<h2 id="视图作用"><a href="#视图作用" class="headerlink" title="视图作用"></a>视图作用</h2><ol>
<li>方便操作，特别是查询操作，减少复杂的SQL语句<ul>
<li>将一条复杂的查询语句使用视图进行保存: 以后可以直接对视图进行操作</li>
</ul>
</li>
<li>数据安全<ul>
<li>视图操作是主要针对查询的, 如果对视图结构进行处理(删除), 不会影响基表数据(相对安全).</li>
<li>可以对外提供有用的数据, 但是隐藏关键(无用)的数据</li>
<li>数据库授权命令不能限定到特定行和特定列，但是通过合理创建视图，可以把权限限定到行列级别</li>
</ul>
</li>
<li>权限控制<ul>
<li>不希望用户访问表中某些含敏感信息的列,可以通过view开放某几个列</li>
</ul>
</li>
<li>数据过多时，分表用</li>
</ol>
<h2 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h2><ul>
<li><code>create view 视图名 as select语句</code></li>
</ul>
<h2 id="查看视图"><a href="#查看视图" class="headerlink" title="查看视图"></a>查看视图</h2><ul>
<li><code>show create table/view 视图名</code></li>
<li><code>show tables [like]/desc 视图名</code><ul>
<li>视图是一张虚拟表，表的所有查看方式，视图都能用，且视图比表多一个关键字view</li>
</ul>
</li>
</ul>
<h2 id="修改视图"><a href="#修改视图" class="headerlink" title="修改视图"></a>修改视图</h2><ul>
<li>视图本身不可修改，但视图来源可以修改</li>
<li><code>alter view 视图名 as 新的select语句</code></li>
</ul>
<h2 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h2><ul>
<li><code>drop view 视图名</code></li>
</ul>
<h2 id="视图算法-algorithm"><a href="#视图算法-algorithm" class="headerlink" title="视图算法(algorithm)"></a>视图算法(algorithm)</h2><ul>
<li>系统对视图以及外部查询视图的Select语句的一种解析方式</li>
<li><code>create algorithm=xxx view 视图名 as select 语句</code><ul>
<li>是对标准sql的mysql的扩展</li>
</ul>
</li>
</ul>
<h3 id="分类-3"><a href="#分类-3" class="headerlink" title="分类"></a>分类</h3><ul>
<li><code>undefined</code><ul>
<li>未定义(默认的), 这不是一种实际使用算法, 是一种推卸责任的算法: 告诉系统,视图没有定义算法, 系统自己看着办<ul>
<li>未定义由系统定义，它倾向于MERGE而不是TEMPTABLE</li>
<li>因为MERGE通常更有效，而且如果使用了临时表，视图是不可更新的。</li>
</ul>
</li>
</ul>
</li>
<li><code>temptable</code><ul>
<li>临时表算法: 系统应该先执行视图的select语句,后执行外部查询语句<ul>
<li>视图的结果将被置于临时表中，然后使用它执行语句</li>
<li>适合复杂查询形成的view</li>
</ul>
</li>
</ul>
</li>
<li><code>merge</code><ul>
<li>合并算法: 系统应该先将视图对应的select语句与外部查询视图的select语句进行合并,然后执行(效率高: 常态)<ul>
<li>将查询视图的语句与视图定义语句合并起来<ul>
<li>查询视图的语句+视图定义语句=查询物理表的语句</li>
</ul>
</li>
<li>合并查询语句，不会创建临时表</li>
<li>适合简单查询形成的view</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="算法选择"><a href="#算法选择" class="headerlink" title="算法选择"></a>算法选择</h3><ul>
<li>如果视图的select语句中会包含一个查询子句(五子句), 而且很有可能顺序比外部的查询语句要靠后, 一定要使用算法temptable,其他情况可以不用指定(默认即可)</li>
</ul>
<h1 id="存储引擎engine"><a href="#存储引擎engine" class="headerlink" title="存储引擎engine"></a>存储引擎engine</h1><ul>
<li>MySQL进行存储数据的方式。</li>
</ul>
<h2 id="分类-4"><a href="#分类-4" class="headerlink" title="分类"></a>分类</h2><h3 id="innodb"><a href="#innodb" class="headerlink" title="innodb"></a>innodb</h3><ul>
<li>只有表结构,数据全部存储到ibdata1文件中</li>
<li>支持事务(新版MySQL默认)</li>
</ul>
<h3 id="myisam"><a href="#myisam" class="headerlink" title="myisam"></a>myisam</h3><ul>
<li>速度快，不支持事务，安全性不够</li>
<li>表,数据和索引全部单独分开存储<ul>
<li><code>.frm</code>是结构</li>
<li><code>.myd</code>是数据</li>
<li><code>.myi</code>是索引</li>
</ul>
</li>
</ul>
<h3 id="memory"><a href="#memory" class="headerlink" title="memory"></a>memory</h3><ul>
<li>数据存在内存中，不存在磁盘，一关闭服务器就消失。适合临时数据。</li>
</ul>
<h1 id="数据备份-amp-还原"><a href="#数据备份-amp-还原" class="headerlink" title="数据备份&amp;还原"></a>数据备份&amp;还原</h1><h2 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h2><h3 id="数据表备份"><a href="#数据表备份" class="headerlink" title="数据表备份"></a>数据表备份</h3><ul>
<li>不需要通过SQL来备份: 直接进入到数据库文件夹复制对应的表结构以及数据文件, 以后还原的时候,直接将备份的内容放进去即可</li>
<li>根据不同的存储引擎有不同的区别.<ul>
<li><code>myisam</code><ul>
<li>直接拷贝三个文件即可使用</li>
</ul>
</li>
<li><code>innodb</code><ul>
<li>也能拷贝，但不能使用</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="单表数据备份"><a href="#单表数据备份" class="headerlink" title="单表数据备份"></a>单表数据备份</h3><ul>
<li>每次只能备份一张表; 只能备份数据(表结构不能备份)</li>
<li>通常的使用<ul>
<li>将表中的数据进行导出到文件</li>
</ul>
</li>
</ul>
<h4 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h4><ul>
<li>前提：文件不存在</li>
<li><code>Select */字段列表 into outfile 文件所在路径 from 数据源</code></li>
<li><code>Select */字段列表 into outfile 文件所在路径 fields 字段处理 lines 行处理 from 数据源</code><ul>
<li>自己制定字段和行的处理方式</li>
<li><code>fields 字段处理</code><ul>
<li><code>Enclosed by</code><ul>
<li>字段使用什么内容包裹, 默认是<code>&quot;&quot;</code>空字符串</li>
</ul>
</li>
<li><code>Terminated by</code><ul>
<li>字段以什么结束, 默认是<code>\t</code>, tab键</li>
</ul>
</li>
<li><code>Escaped by</code><ul>
<li>特殊符号用什么方式处理,默认是<code>\</code> 使用反斜杠转义</li>
</ul>
</li>
</ul>
</li>
<li><code>lines 行处理</code><ul>
<li><code>Starting by</code><ul>
<li>每行以什么开始, 默认是<code>&quot;&quot;</code>空字符串</li>
</ul>
</li>
<li><code>erminated by</code><ul>
<li>每行以什么结束,默认是<code>\r\n</code>,换行符</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="还原"><a href="#还原" class="headerlink" title="还原"></a>还原</h4><ul>
<li>将一个在外部保存的数据重新恢复到表中(表结构不存在，失败)</li>
<li><code>Load data infile 文件所在路径 into table 表名[(字段列表)] fields字段处理 lines 行处理</code></li>
</ul>
<h3 id="SQL备份"><a href="#SQL备份" class="headerlink" title="SQL备份"></a>SQL备份</h3><ul>
<li>备份的是SQL语句: 系统会对表结构以及数据进行处理,变成对应的SQL语句, 然后进行备份: 还原的时候只要执行SQL指令即可.(主要就是针对表结构)</li>
</ul>
<h3 id="增量备份"><a href="#增量备份" class="headerlink" title="增量备份"></a>增量备份</h3><ul>
<li>不是针对数据或者SQL指令进行备份: 是针对mysql服务器的日志文件进行备份</li>
<li>指定时间段开始进行备份., 备份数据不会重复, 而且所有的操作都会备份(大项目都用增量备份)</li>
</ul>
<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><h2 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h2><ul>
<li>系统定义好的变量: 大部分的时候用户根本不需要使用系统变量: 系统变量是用来控制服务器的表现的<ul>
<li>如<code>autocommit auto_increment_increment...</code></li>
</ul>
</li>
</ul>
<h3 id="查看系统变量"><a href="#查看系统变量" class="headerlink" title="查看系统变量"></a>查看系统变量</h3><ul>
<li><code>Show variables</code><ul>
<li>查看所有变量</li>
</ul>
</li>
<li><code>Select @@变量名</code><ul>
<li>查看具体变量</li>
</ul>
</li>
</ul>
<h3 id="修改系统变量"><a href="#修改系统变量" class="headerlink" title="修改系统变量"></a>修改系统变量</h3><ul>
<li><code>et 变量名 = 值</code>  / <code>Set @@变量名 = 值</code><ul>
<li>会话级别</li>
</ul>
</li>
<li><code>Set global 变量名 = 值</code><ul>
<li>永久生效</li>
</ul>
</li>
</ul>
<h2 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h2><ul>
<li>为了区分系统变量, 规定用户自定义变量必须使用一个<code>@</code>符号</li>
<li>所有自定义的变量都是会话级别</li>
<li>所有自定义变量不区分数据库(用户级别)</li>
</ul>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><ul>
<li>Mysql中的作用域与js中的作用域完全一样<ul>
<li>全局变量可以在任何地方使用</li>
<li>局部变量只能在函数内部使用</li>
</ul>
</li>
<li>全局变量<ul>
<li>使用set关键字定义, 使用@符号标志</li>
</ul>
</li>
<li>局部变量<ul>
<li>使用declare关键字声明, 没有@符号: 所有的局部变量的声明,必须在函数体开始之前</li>
</ul>
</li>
</ul>
<h3 id="定义自定义变量"><a href="#定义自定义变量" class="headerlink" title="定义自定义变量"></a>定义自定义变量</h3><ul>
<li><code>Set @变量名 = 值</code></li>
</ul>
<h3 id="查看自定义变量"><a href="#查看自定义变量" class="headerlink" title="查看自定义变量"></a>查看自定义变量</h3><ul>
<li><code>select @变量名</code></li>
</ul>
<h3 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h3><ul>
<li><code>:=</code><ul>
<li>在mysql中, <code>=</code>会默认的当做比较符号处理(很多地方), mysql为了区分比较和赋值的概念: 重新定义了一个新的的赋值符号</li>
</ul>
</li>
</ul>
<ol>
<li><code>Select @变量名 := 字段名 from 数据源</code><ul>
<li>一边查看结果一边赋值，如果用<code>=</code>会变成比较</li>
</ul>
</li>
<li><code>Select 字段列表 from 表名 into 变量列表</code><ul>
<li>要求: 数据记录最多只允许获取一条: mysql不支持数组<ul>
<li><code>select name,age from user into @name,@age</code><ul>
<li>错误</li>
</ul>
</li>
<li><code>select name,age from user where id=1 into @name,@age</code><ul>
<li>正确，只获取一条数据</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="触发器Trigger"><a href="#触发器Trigger" class="headerlink" title="触发器Trigger"></a>触发器Trigger</h1><ul>
<li>事先为某张表绑定好一段代码 ,当表中的某些内容发生改变的时候(增删改)系统会自动触发代码,执行</li>
</ul>
<h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h2><ul>
<li>一张表中只能拥有一种触发时间的一种类型的触发器<ul>
<li>一张表最多能有6个触发器<ul>
<li>增删改/前后 6种组合</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="事件类型"><a href="#事件类型" class="headerlink" title="事件类型"></a>事件类型</h3><ul>
<li>增(insert)</li>
<li>删(delete)</li>
<li>改(update)</li>
</ul>
<h3 id="触发时间"><a href="#触发时间" class="headerlink" title="触发时间"></a>触发时间</h3><ul>
<li>前(before)</li>
<li>后(after)</li>
</ul>
<h3 id="触发对象"><a href="#触发对象" class="headerlink" title="触发对象"></a>触发对象</h3><ul>
<li>表中的每一条记录(行)</li>
</ul>
<h2 id="创建触发器"><a href="#创建触发器" class="headerlink" title="创建触发器"></a>创建触发器</h2><ul>
<li>在mysql高级结构中: 没有大括号,  都是用对应的字符符号代替</li>
</ul>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- 临时修改语句结束符</span><br><span class="line">Delimiter 自定义符号: 后续代码中只有碰到自定义符号才算结束</span><br><span class="line"></span><br><span class="line">Create trigger 触发器名字 触发时间 事件类型 on 表名 for each row</span><br><span class="line"></span><br><span class="line">Begin		-- 代表左大括号: 开始</span><br><span class="line">-- 里面就是触发器的内容: 每行内容都必须使用语句结束符: 分号</span><br><span class="line">End			-- 代表右带括号: 结束</span><br><span class="line"></span><br><span class="line">-- 语句结束符</span><br><span class="line">自定义符号</span><br><span class="line"></span><br><span class="line">-- 将临时修改修正过来</span><br><span class="line">Delimiter  ;</span><br></pre></td></tr></table></figure>
<h2 id="查看触发器"><a href="#查看触发器" class="headerlink" title="查看触发器"></a>查看触发器</h2><ul>
<li><code>Information_schema.triggers</code><ul>
<li>所有的触发器都会保存这一张表中</li>
</ul>
</li>
<li><code>Show triggers [like ‘pattern’]</code><ul>
<li>查看所有或者模糊匹配</li>
</ul>
</li>
<li><code>Show create trigger 触发器名</code><ul>
<li>查看触发器创建语句</li>
</ul>
</li>
</ul>
<h2 id="使用触发器"><a href="#使用触发器" class="headerlink" title="使用触发器"></a>使用触发器</h2><ul>
<li>不需要手动调用, 而是当某种情况发生时会自动触发.</li>
</ul>
<h2 id="修改-amp-删除触发器"><a href="#修改-amp-删除触发器" class="headerlink" title="修改&amp;删除触发器"></a>修改&amp;删除触发器</h2><ul>
<li>触发器不能修改</li>
<li><code>Drop trigger 触发器名</code><ul>
<li>删除</li>
</ul>
</li>
</ul>
<h2 id="代码执行结构"><a href="#代码执行结构" class="headerlink" title="代码执行结构"></a>代码执行结构</h2><h3 id="顺序结构"><a href="#顺序结构" class="headerlink" title="顺序结构"></a>顺序结构</h3><h3 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">If  条件判断  then</span><br><span class="line">	-- 满足条件要执行的代码;</span><br><span class="line">Else</span><br><span class="line">	-- 不满足条件要执行的代码;</span><br><span class="line">End if;</span><br></pre></td></tr></table></figure>
<h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><h4 id="while"><a href="#while" class="headerlink" title="while"></a>while</h4><h5 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">While 条件判断 do</span><br><span class="line">	-- 满足条件要执行的代码</span><br><span class="line">	-- 变更循环条件</span><br><span class="line">End while;</span><br></pre></td></tr></table></figure>
<ul>
<li>Mysql中没有对应continue和break. 但是有替代品.<ul>
<li>Iterate: 迭代 , 类似continue, 后面的代码不执行, 循环重新来过</li>
<li>Leave: 离开, 类似break,整个循环接收</li>
<li>使用<ul>
<li><code>itrate/leave 循环名字</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">循环名字:While 条件判断 do</span><br><span class="line">	-- 满足条件要执行的代码</span><br><span class="line">	-- 变更循环条件</span><br><span class="line">	itrate/leave 循环名字;</span><br><span class="line">End while;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h2><h3 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h3><ul>
<li>系统定义好的函数, 直接调用即可</li>
<li>任何函数都有返回值, 因此函数的调用是通过select调用</li>
</ul>
<h3 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h3><ul>
<li><code>abs(x)</code><ul>
<li>绝对值</li>
</ul>
</li>
<li><code>bin(x)</code> <ul>
<li>二进制</li>
</ul>
</li>
<li><code>floor(x)</code><ul>
<li>返回小于x的最大整数</li>
</ul>
</li>
</ul>
<h3 id="聚合函数-1"><a href="#聚合函数-1" class="headerlink" title="聚合函数"></a>聚合函数</h3><h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><ul>
<li><code>substring(s,index,length)</code><ul>
<li>截取字符串，以字符为单位</li>
</ul>
</li>
<li><code>instr(s,key)</code><ul>
<li>判断字符串s中是否存在字符串key，返回位置</li>
</ul>
</li>
<li><code>insert(s,index,length,key)</code><ul>
<li>替换</li>
</ul>
</li>
<li><code>strcmp(s1,s2)</code><ul>
<li>字符串比较</li>
</ul>
</li>
</ul>
<h3 id="日期时间函数"><a href="#日期时间函数" class="headerlink" title="日期时间函数"></a>日期时间函数</h3><ul>
<li><code>now()</code><ul>
<li>返回当前时间。(yyyy-MM–dd HH:mm:ss)</li>
</ul>
</li>
<li><code>curdate() current_date()</code><ul>
<li>返回日期(yyyy-MM-dd)</li>
</ul>
</li>
<li><code>curtime() current_time()</code><ul>
<li>返回时间(HH:mm:ss)</li>
</ul>
</li>
<li><code>dayofweek(date)</code><ul>
<li>一周的第几天(周日是第一天)</li>
</ul>
</li>
<li><code>dayofmonth(date)</code></li>
<li><code>dayofyear(date)</code></li>
</ul>
<h3 id="条件判断函数"><a href="#条件判断函数" class="headerlink" title="条件判断函数"></a>条件判断函数</h3><ul>
<li><code>if(expr,v1,v2)</code><ul>
<li>如果表达式expr成立，返回结果v1；否则，返回结果v2</li>
</ul>
</li>
<li><code>ifnull(v1,v2)</code><ul>
<li>如果v1的值不为NULL，则返回v1，否则返回v2。</li>
</ul>
</li>
<li><p><code>case</code></p>
<ul>
<li><p><code>case when e1 then v1 when e2 then e2 ... else vn end</code></p>
<ul>
<li>CASE表示函数开始，END表示函数结束。如果e1成立，则返回v1,如果e2成立，则返回v2，当全部不成立则返回vn，而当有一个成立之后，后面的就不执行了。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CASE </span><br><span class="line">　　WHEN e1</span><br><span class="line">　　THEN v1</span><br><span class="line">　　WHEN e2</span><br><span class="line">　　THEN e2</span><br><span class="line">　　...</span><br><span class="line">　　ELSE vn</span><br><span class="line">END</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>case expr when e1 then v1 when e2 then v2...else vn end</code></p>
<ul>
<li>如果表达式expr的值等于e1，返回v1；如果等于e2,则返回e2。否则返回vn。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CASE expr </span><br><span class="line">　　WHEN e1 THEN v1</span><br><span class="line">　　WHEN e2 THEN v2</span><br><span class="line">　　...</span><br><span class="line">　　ELSE vn</span><br><span class="line">END</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="系统信息函数"><a href="#系统信息函数" class="headerlink" title="系统信息函数"></a>系统信息函数</h3><ul>
<li><code>USER()</code><ul>
<li>返回当前用户及所在主机</li>
</ul>
</li>
<li><code>database()</code><ul>
<li>返回当前数据库名</li>
</ul>
</li>
<li><code>version()</code><ul>
<li>返回数据库的版本号</li>
</ul>
</li>
</ul>
<h2 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h2><h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Create function  函数名([形参列表]) returns 数据类型 -- 规定要返回的数据类型</span><br><span class="line">Begin</span><br><span class="line">	-- 函数体</span><br><span class="line">	-- 返回值: return 类型(指定数据类型);</span><br><span class="line">End</span><br></pre></td></tr></table></figure>
<h3 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h3><ul>
<li>自定义函数与系统函数的调用方式是一样:</li>
<li><code>select 函数名(实参列表)</code></li>
</ul>
<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><ul>
<li><code>show function status [like ‘pattern’]</code><ul>
<li>查看所有函数或模糊匹配</li>
</ul>
</li>
<li><code>show create function 函数名</code><ul>
<li>查看函数的创建语句</li>
</ul>
</li>
</ul>
<h3 id="修改-amp-删除函数"><a href="#修改-amp-删除函数" class="headerlink" title="修改&amp;删除函数"></a>修改&amp;删除函数</h3><ul>
<li>函数不能修改</li>
<li><code>Drop function 函数名</code><ul>
<li>删除</li>
</ul>
</li>
</ul>
<h3 id="参数-amp-变量作用域"><a href="#参数-amp-变量作用域" class="headerlink" title="参数&amp;变量作用域"></a>参数&amp;变量作用域</h3><ul>
<li>在函数内部使用@定义的变量在函数外部也可以访问</li>
</ul>
<h1 id="存储过程procedure"><a href="#存储过程procedure" class="headerlink" title="存储过程procedure"></a>存储过程procedure</h1><h2 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h2><ul>
<li>是一种用来处理数据的方式.</li>
<li>存储过程是一种没有返回值的函数</li>
</ul>
<h2 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Create procedure 过程名字([参数列表])</span><br><span class="line">Begin</span><br><span class="line">	-- 过程体</span><br><span class="line">End</span><br></pre></td></tr></table></figure>
<h2 id="查看-1"><a href="#查看-1" class="headerlink" title="查看"></a>查看</h2><ul>
<li><code>show procedure status [like ‘pattern’]</code><ul>
<li>查看所有存储过程或模糊匹配</li>
</ul>
</li>
<li><code>show create procedure 过程名</code><ul>
<li>查看过程创建语句:</li>
</ul>
</li>
</ul>
<h2 id="调用-1"><a href="#调用-1" class="headerlink" title="调用"></a>调用</h2><ul>
<li>过程没有返回值: select是不能访问的.</li>
<li><code>call 存储过程名(参数)</code></li>
</ul>
<h2 id="修改-amp-删除"><a href="#修改-amp-删除" class="headerlink" title="修改&amp;删除"></a>修改&amp;删除</h2><ul>
<li>不可修改</li>
<li><code>drop procedure 过程名</code><ul>
<li>删除</li>
</ul>
</li>
</ul>
<h2 id="存储过程参数"><a href="#存储过程参数" class="headerlink" title="存储过程参数"></a>存储过程参数</h2><ul>
<li>函数的参数需要数据类型指定, 过程比函数更严格</li>
<li>过程还有自己的类型限定</li>
<li><code>Create procedure 过程名(in 形参名字 数据类型, out 形参名字 数据类型, inout 形参名字 数据类型)</code></li>
</ul>
<h3 id="in"><a href="#in" class="headerlink" title="in"></a>in</h3><ul>
<li>数据只是从外部传入给内部使用(值传递): 可以是数值也可以是变量</li>
</ul>
<h3 id="out"><a href="#out" class="headerlink" title="out"></a>out</h3><ul>
<li>只允许过程内部使用(不用外部数据), 给外部使用的.(引用传递: 外部的数据会被先清空才会进入到内部)</li>
<li>只能传变量</li>
</ul>
<h3 id="inout"><a href="#inout" class="headerlink" title="inout"></a>inout</h3><ul>
<li>外部可以在内部使用,内部修改也可以给外部使用: 典型的引用传递</li>
<li>只能传变量</li>
</ul>
<h1 id="Myql数据库驱动"><a href="#Myql数据库驱动" class="headerlink" title="Myql数据库驱动"></a>Myql数据库驱动</h1><ul>
<li><code>mysql-connector-java-5x</code><ul>
<li><code>driverClass=com.mysql.jdbc.Driver</code></li>
<li><code>url=jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false</code></li>
<li><code>username=root</code></li>
<li><code>password=root</code></li>
</ul>
</li>
<li><code>mysql-connector-java-6x</code><ul>
<li><code>driverClass=com.mysql.cj.jdbc.Driver</code></li>
<li><code>url=jdbc:mysql://localhost:3306/test?serverTimezone=UTC&amp;?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false</code><ul>
<li>如果参数不是‘？’后的第一个<ul>
<li>会提示<code>The reference to entity “serverTimezone” must end with the ‘;’ delimiter</code></li>
<li>对实体xxx引用必须以 ‘;’ 分隔符结尾</li>
</ul>
</li>
<li>将<code>&amp;</code>改为<code>&amp;amp;</code></li>
</ul>
</li>
<li><code>username=root</code></li>
<li><code>password=root</code></li>
</ul>
</li>
<li><strong>5x和6x的区别</strong><ul>
<li>6x driver发生了变化</li>
<li>6x需要设置时区<code>serverTimezone</code><ul>
<li>UTC<ul>
<li>协调世界时，又称世界统一时间、世界标准时间、国际协调时间</li>
</ul>
</li>
</ul>
</li>
<li>综合分析<ul>
<li>5.1.X的确存在一些问题，只是我们没有开发用于多时区的应用，或者已经习以为常认为合理罢了，甚至总结出了用BigInt存储跨时区的信息那种经验。</li>
<li>6.X彻底解决了跨时区的应用问题，让我们开发中顾虑更少。</li>
</ul>
</li>
<li>建议<ul>
<li>数据库服务器的时间设置<ul>
<li>对于纯产生数据的应用，没有数据回流到数仓的话，数据库时区随意设置，知道机制就可以了</li>
<li>对于需要数据回流到数仓，或者数仓的数据会回流到前台应用数据库的话，那么需要设置成和数仓的时区一致，避免两个库之间同步时发生时区异常的问题</li>
</ul>
</li>
<li>应用<ul>
<li>老应用用5.1.X，如果没有useTimezone的参数，那么谨慎升级Driver到6.X，如果要升级，记得做好测试，先修改数据库的TimeZone，然后升级Driver</li>
<li>新的应用建议使用6.X的Driver，但必须事先调整数据库服务器时区，做好测试，避免一开始数据库时区有问题，造成脏数据或数据不一致现象</li>
</ul>
</li>
</ul>
</li>
<li>查询mysql时区<ul>
<li><code>select timediff(now(),convert_tz(now(),@@session.time_zone,&#39;+00:00&#39;));</code></li>
<li><code>SELECT TIMEDIFF(NOW(), UTC_TIMESTAMP);</code></li>
<li>两个都可以，如果是中国标准时间，会输出08:00</li>
</ul>
</li>
</ul>
</li>
<li><strong>安</strong><ul>
<li>当查询返回了一个空的结果集ResultSet<ul>
<li>注：<ul>
<li><code>rs=ps.executeQuery()</code>这个方法不会返回null</li>
<li>所以rs不可能为空，而是数据为空<br>*使用5x时</li>
</ul>
</li>
<li><code>rs.next()</code>返回false</li>
</ul>
</li>
<li>使用6x时<ul>
<li><code>rs.next()</code>返回true</li>
</ul>
</li>
<li>这是我在写一个登录时发现的，明明账号密码错误查询的结果集是空的，可是使用6x，<code>rs.next()</code>返回true这样就给user的各个属性赋了默认值，返回了一个各个属性都是默认的0，null。。。的user对象。 </li>
</ul>
</li>
</ul>

      
    </div>

    

    
    
    

    <div>
      
	<div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------The End<i class="fa fa-paw"></i>客官请自便-------------</div>
    
</div
      
    </div>

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/11/xd-XML/" rel="next" title="xd-XML">
                <i class="fa fa-chevron-left"></i> xd-XML
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/11/xd-JDBC/" rel="prev" title="xd-JDBC">
                xd-JDBC <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://github.com/awcnoanswer/myPicture/raw/master/headPic/swk.png"
                alt="安₃" />
            
              <p class="site-author-name" itemprop="name">安₃</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">59</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#概述"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库"><span class="nav-number">2.</span> <span class="nav-text">数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念"><span class="nav-number">2.1.</span> <span class="nav-text">概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#名词"><span class="nav-number">2.1.1.</span> <span class="nav-text">名词</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分类（按介质）"><span class="nav-number">2.2.</span> <span class="nav-text">分类（按介质）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#关系型数据库（SQL）"><span class="nav-number">2.2.1.</span> <span class="nav-text">关系型数据库（SQL）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#非关系型数据库（NoSQL：not-only-sql）"><span class="nav-number">2.2.2.</span> <span class="nav-text">非关系型数据库（NoSQL：not only sql）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql概述"><span class="nav-number">3.</span> <span class="nav-text">Mysql概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#交互方式"><span class="nav-number">3.1.</span> <span class="nav-text">交互方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mysql服务器对象"><span class="nav-number">3.2.</span> <span class="nav-text">mysql服务器对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化配置"><span class="nav-number">3.3.</span> <span class="nav-text">初始化配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL基本操作"><span class="nav-number">4.</span> <span class="nav-text">SQL基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#库操作"><span class="nav-number">4.1.</span> <span class="nav-text">库操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增"><span class="nav-number">4.1.1.</span> <span class="nav-text">增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删"><span class="nav-number">4.1.2.</span> <span class="nav-text">删</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#改"><span class="nav-number">4.1.3.</span> <span class="nav-text">改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查"><span class="nav-number">4.1.4.</span> <span class="nav-text">查</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表操作"><span class="nav-number">4.2.</span> <span class="nav-text">表操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增-1"><span class="nav-number">4.2.1.</span> <span class="nav-text">增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删-1"><span class="nav-number">4.2.2.</span> <span class="nav-text">删</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#改-1"><span class="nav-number">4.2.3.</span> <span class="nav-text">改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查-1"><span class="nav-number">4.2.4.</span> <span class="nav-text">查</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据操作"><span class="nav-number">4.3.</span> <span class="nav-text">数据操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增-2"><span class="nav-number">4.3.1.</span> <span class="nav-text">增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删-2"><span class="nav-number">4.3.2.</span> <span class="nav-text">删</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#改-2"><span class="nav-number">4.3.3.</span> <span class="nav-text">改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查-2"><span class="nav-number">4.3.4.</span> <span class="nav-text">查</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据类型（列类型）"><span class="nav-number">5.</span> <span class="nav-text">数据类型（列类型）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数值类型"><span class="nav-number">5.1.</span> <span class="nav-text">数值类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#整数型"><span class="nav-number">5.1.1.</span> <span class="nav-text">整数型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#参数"><span class="nav-number">5.1.1.1.</span> <span class="nav-text">参数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#unsigned"><span class="nav-number">5.1.1.1.1.</span> <span class="nav-text">unsigned</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#M-amp-zerofill"><span class="nav-number">5.1.1.1.2.</span> <span class="nav-text">(M) &amp; zerofill</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#小数型"><span class="nav-number">5.1.2.</span> <span class="nav-text">小数型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#浮点型"><span class="nav-number">5.1.2.1.</span> <span class="nav-text">浮点型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#定点型"><span class="nav-number">5.1.2.2.</span> <span class="nav-text">定点型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#参数-1"><span class="nav-number">5.1.2.3.</span> <span class="nav-text">参数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#unsigned-1"><span class="nav-number">5.1.2.3.1.</span> <span class="nav-text">unsigned</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#M-D-amp-zerofill"><span class="nav-number">5.1.2.3.2.</span> <span class="nav-text">(M,D) &amp; zerofill</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串类型"><span class="nav-number">5.2.</span> <span class="nav-text">字符串类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#时间日期类型"><span class="nav-number">5.3.</span> <span class="nav-text">时间日期类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql记录长度"><span class="nav-number">6.</span> <span class="nav-text">Mysql记录长度</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#列属性"><span class="nav-number">7.</span> <span class="nav-text">列属性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#空属性"><span class="nav-number">7.1.</span> <span class="nav-text">空属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#列描述"><span class="nav-number">7.2.</span> <span class="nav-text">列描述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#默认值"><span class="nav-number">7.3.</span> <span class="nav-text">默认值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字段属性"><span class="nav-number">7.4.</span> <span class="nav-text">字段属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主键"><span class="nav-number">7.4.1.</span> <span class="nav-text">主键</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#主键约束"><span class="nav-number">7.4.1.1.</span> <span class="nav-text">主键约束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加主键"><span class="nav-number">7.4.1.2.</span> <span class="nav-text">添加主键</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#更新主键-amp-删除主键"><span class="nav-number">7.4.1.3.</span> <span class="nav-text">更新主键 &amp; 删除主键</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#主键分类"><span class="nav-number">7.4.1.4.</span> <span class="nav-text">主键分类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#外键"><span class="nav-number">7.4.2.</span> <span class="nav-text">外键</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#外键约束"><span class="nav-number">7.4.2.1.</span> <span class="nav-text">外键约束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#新增外键"><span class="nav-number">7.4.2.2.</span> <span class="nav-text">新增外键</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改-amp-删除外键"><span class="nav-number">7.4.2.3.</span> <span class="nav-text">修改 &amp; 删除外键</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#外键作用"><span class="nav-number">7.4.2.4.</span> <span class="nav-text">外键作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#外键条件"><span class="nav-number">7.4.2.5.</span> <span class="nav-text">外键条件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自增长"><span class="nav-number">7.4.3.</span> <span class="nav-text">自增长</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#新增自增长"><span class="nav-number">7.4.3.1.</span> <span class="nav-text">新增自增长</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自增长使用"><span class="nav-number">7.4.3.2.</span> <span class="nav-text">自增长使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改自增长"><span class="nav-number">7.4.3.3.</span> <span class="nav-text">修改自增长</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除自增长"><span class="nav-number">7.4.3.4.</span> <span class="nav-text">删除自增长</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自增长初始值-amp-种子"><span class="nav-number">7.4.3.5.</span> <span class="nav-text">自增长初始值 &amp; 种子</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#唯一键"><span class="nav-number">7.4.4.</span> <span class="nav-text">唯一键</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#唯一约束"><span class="nav-number">7.4.4.1.</span> <span class="nav-text">唯一约束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#新增唯一键"><span class="nav-number">7.4.4.2.</span> <span class="nav-text">新增唯一键</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除唯一键"><span class="nav-number">7.4.4.3.</span> <span class="nav-text">删除唯一键</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#约束"><span class="nav-number">8.</span> <span class="nav-text">约束</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#主键约束-1"><span class="nav-number">8.1.</span> <span class="nav-text">主键约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#外键约束-1"><span class="nav-number">8.2.</span> <span class="nav-text">外键约束</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#高级数据操作"><span class="nav-number">9.</span> <span class="nav-text">高级数据操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#增-3"><span class="nav-number">9.1.</span> <span class="nav-text">增</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主键冲突"><span class="nav-number">9.1.1.</span> <span class="nav-text">主键冲突</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#蠕虫复制"><span class="nav-number">9.1.2.</span> <span class="nav-text">蠕虫复制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删-3"><span class="nav-number">9.2.</span> <span class="nav-text">删</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#改-3"><span class="nav-number">9.3.</span> <span class="nav-text">改</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查-3"><span class="nav-number">9.4.</span> <span class="nav-text">查</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#查询完整语法"><span class="nav-number">9.4.1.</span> <span class="nav-text">查询完整语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#select选项"><span class="nav-number">9.4.2.</span> <span class="nav-text">select选项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字段别名"><span class="nav-number">9.4.3.</span> <span class="nav-text">字段别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据源"><span class="nav-number">9.4.4.</span> <span class="nav-text">数据源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#分类"><span class="nav-number">9.4.4.1.</span> <span class="nav-text">分类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#where子句"><span class="nav-number">9.4.5.</span> <span class="nav-text">where子句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#group-by子句"><span class="nav-number">9.4.6.</span> <span class="nav-text">group by子句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#聚合函数"><span class="nav-number">9.4.6.1.</span> <span class="nav-text">聚合函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#having子句"><span class="nav-number">9.4.7.</span> <span class="nav-text">having子句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#order-by子句"><span class="nav-number">9.4.8.</span> <span class="nav-text">order by子句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#limit子句"><span class="nav-number">9.4.9.</span> <span class="nav-text">limit子句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#分页"><span class="nav-number">9.4.9.1.</span> <span class="nav-text">分页</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#连接查询"><span class="nav-number">9.5.</span> <span class="nav-text">连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#交叉连接"><span class="nav-number">9.5.1.</span> <span class="nav-text">交叉连接</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概念-1"><span class="nav-number">9.5.1.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#笛卡儿积"><span class="nav-number">9.5.1.2.</span> <span class="nav-text">笛卡儿积</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内连接"><span class="nav-number">9.5.2.</span> <span class="nav-text">内连接</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概念-2"><span class="nav-number">9.5.2.1.</span> <span class="nav-text">概念</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#外连接"><span class="nav-number">9.5.3.</span> <span class="nav-text">外连接</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概念-3"><span class="nav-number">9.5.3.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#左外连接"><span class="nav-number">9.5.3.2.</span> <span class="nav-text">左外连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#右外连接"><span class="nav-number">9.5.3.3.</span> <span class="nav-text">右外连接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自然连接"><span class="nav-number">9.5.4.</span> <span class="nav-text">自然连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自连接"><span class="nav-number">9.5.5.</span> <span class="nav-text">自连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#连接-例"><span class="nav-number">9.5.6.</span> <span class="nav-text">连接 例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#inner-join-on"><span class="nav-number">9.5.7.</span> <span class="nav-text">inner join on</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#left-join-on"><span class="nav-number">9.5.8.</span> <span class="nav-text">left join on</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#right-join-on"><span class="nav-number">9.5.9.</span> <span class="nav-text">right join on</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#full-join-on-mysql不支持"><span class="nav-number">9.5.10.</span> <span class="nav-text">full join on(mysql不支持)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#联合查询"><span class="nav-number">9.6.</span> <span class="nav-text">联合查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#意义"><span class="nav-number">9.6.1.</span> <span class="nav-text">意义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#order-by-使用"><span class="nav-number">9.6.2.</span> <span class="nav-text">order by 使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#子查询"><span class="nav-number">9.7.</span> <span class="nav-text">子查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分类-1"><span class="nav-number">9.7.1.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#按位置"><span class="nav-number">9.7.1.1.</span> <span class="nav-text">按位置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#From子查询"><span class="nav-number">9.7.1.1.1.</span> <span class="nav-text">From子查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Where子查询"><span class="nav-number">9.7.1.1.2.</span> <span class="nav-text">Where子查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Exists子查询"><span class="nav-number">9.7.1.1.3.</span> <span class="nav-text">Exists子查询</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#按结果"><span class="nav-number">9.7.1.2.</span> <span class="nav-text">按结果</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#标量子查询"><span class="nav-number">9.7.1.2.1.</span> <span class="nav-text">标量子查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#列子查询"><span class="nav-number">9.7.1.2.2.</span> <span class="nav-text">列子查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#行子查询"><span class="nav-number">9.7.1.2.3.</span> <span class="nav-text">行子查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#表子查询"><span class="nav-number">9.7.1.2.4.</span> <span class="nav-text">表子查询</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql-字符集"><span class="nav-number">10.</span> <span class="nav-text">Mysql 字符集</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#中文乱码问题"><span class="nav-number">10.1.</span> <span class="nav-text">中文乱码问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#设置"><span class="nav-number">10.2.</span> <span class="nav-text">设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#存"><span class="nav-number">10.3.</span> <span class="nav-text">存</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#取"><span class="nav-number">10.4.</span> <span class="nav-text">取</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql校对集"><span class="nav-number">11.</span> <span class="nav-text">Mysql校对集</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#校对集格式"><span class="nav-number">11.1.</span> <span class="nav-text">校对集格式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#范式"><span class="nav-number">12.</span> <span class="nav-text">范式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-1"><span class="nav-number">12.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1NF"><span class="nav-number">12.2.</span> <span class="nav-text">1NF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2NF"><span class="nav-number">12.3.</span> <span class="nav-text">2NF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3NF"><span class="nav-number">12.4.</span> <span class="nav-text">3NF</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#索引"><span class="nav-number">13.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-2"><span class="nav-number">13.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#作用"><span class="nav-number">13.2.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分类-2"><span class="nav-number">13.3.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#索引操作"><span class="nav-number">13.4.</span> <span class="nav-text">索引操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#视图view"><span class="nav-number">14.</span> <span class="nav-text">视图view</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-3"><span class="nav-number">14.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据操作-1"><span class="nav-number">14.2.</span> <span class="nav-text">数据操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#视图作用"><span class="nav-number">14.3.</span> <span class="nav-text">视图作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建视图"><span class="nav-number">14.4.</span> <span class="nav-text">创建视图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看视图"><span class="nav-number">14.5.</span> <span class="nav-text">查看视图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改视图"><span class="nav-number">14.6.</span> <span class="nav-text">修改视图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除视图"><span class="nav-number">14.7.</span> <span class="nav-text">删除视图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#视图算法-algorithm"><span class="nav-number">14.8.</span> <span class="nav-text">视图算法(algorithm)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分类-3"><span class="nav-number">14.8.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#算法选择"><span class="nav-number">14.8.2.</span> <span class="nav-text">算法选择</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#存储引擎engine"><span class="nav-number">15.</span> <span class="nav-text">存储引擎engine</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#分类-4"><span class="nav-number">15.1.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#innodb"><span class="nav-number">15.1.1.</span> <span class="nav-text">innodb</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#myisam"><span class="nav-number">15.1.2.</span> <span class="nav-text">myisam</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#memory"><span class="nav-number">15.1.3.</span> <span class="nav-text">memory</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据备份-amp-还原"><span class="nav-number">16.</span> <span class="nav-text">数据备份&amp;还原</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#方式"><span class="nav-number">16.1.</span> <span class="nav-text">方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据表备份"><span class="nav-number">16.1.1.</span> <span class="nav-text">数据表备份</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#单表数据备份"><span class="nav-number">16.1.2.</span> <span class="nav-text">单表数据备份</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#备份"><span class="nav-number">16.1.2.1.</span> <span class="nav-text">备份</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#还原"><span class="nav-number">16.1.2.2.</span> <span class="nav-text">还原</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL备份"><span class="nav-number">16.1.3.</span> <span class="nav-text">SQL备份</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增量备份"><span class="nav-number">16.1.4.</span> <span class="nav-text">增量备份</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#事务"><span class="nav-number">17.</span> <span class="nav-text">事务</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#变量"><span class="nav-number">18.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#系统变量"><span class="nav-number">18.1.</span> <span class="nav-text">系统变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#查看系统变量"><span class="nav-number">18.1.1.</span> <span class="nav-text">查看系统变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改系统变量"><span class="nav-number">18.1.2.</span> <span class="nav-text">修改系统变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义变量"><span class="nav-number">18.2.</span> <span class="nav-text">自定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作用域"><span class="nav-number">18.2.1.</span> <span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定义自定义变量"><span class="nav-number">18.2.2.</span> <span class="nav-text">定义自定义变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看自定义变量"><span class="nav-number">18.2.3.</span> <span class="nav-text">查看自定义变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#赋值"><span class="nav-number">18.2.4.</span> <span class="nav-text">赋值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#触发器Trigger"><span class="nav-number">19.</span> <span class="nav-text">触发器Trigger</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#触发器"><span class="nav-number">19.1.</span> <span class="nav-text">触发器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#事件类型"><span class="nav-number">19.1.1.</span> <span class="nav-text">事件类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#触发时间"><span class="nav-number">19.1.2.</span> <span class="nav-text">触发时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#触发对象"><span class="nav-number">19.1.3.</span> <span class="nav-text">触发对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建触发器"><span class="nav-number">19.2.</span> <span class="nav-text">创建触发器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本语法"><span class="nav-number">19.2.1.</span> <span class="nav-text">基本语法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看触发器"><span class="nav-number">19.3.</span> <span class="nav-text">查看触发器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用触发器"><span class="nav-number">19.4.</span> <span class="nav-text">使用触发器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改-amp-删除触发器"><span class="nav-number">19.5.</span> <span class="nav-text">修改&amp;删除触发器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码执行结构"><span class="nav-number">19.6.</span> <span class="nav-text">代码执行结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#顺序结构"><span class="nav-number">19.6.1.</span> <span class="nav-text">顺序结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分支结构"><span class="nav-number">19.6.2.</span> <span class="nav-text">分支结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#if"><span class="nav-number">19.6.2.1.</span> <span class="nav-text">if</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#语法"><span class="nav-number">19.6.2.1.1.</span> <span class="nav-text">语法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#循环结构"><span class="nav-number">19.6.3.</span> <span class="nav-text">循环结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#while"><span class="nav-number">19.6.3.1.</span> <span class="nav-text">while</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#语法-1"><span class="nav-number">19.6.3.1.1.</span> <span class="nav-text">语法</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#函数"><span class="nav-number">20.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#系统函数"><span class="nav-number">20.1.</span> <span class="nav-text">系统函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述-4"><span class="nav-number">20.1.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数学函数"><span class="nav-number">20.1.2.</span> <span class="nav-text">数学函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#聚合函数-1"><span class="nav-number">20.1.3.</span> <span class="nav-text">聚合函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串函数"><span class="nav-number">20.1.4.</span> <span class="nav-text">字符串函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#日期时间函数"><span class="nav-number">20.1.5.</span> <span class="nav-text">日期时间函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#条件判断函数"><span class="nav-number">20.1.6.</span> <span class="nav-text">条件判断函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#系统信息函数"><span class="nav-number">20.1.7.</span> <span class="nav-text">系统信息函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义函数"><span class="nav-number">20.2.</span> <span class="nav-text">自定义函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建"><span class="nav-number">20.2.1.</span> <span class="nav-text">创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#调用"><span class="nav-number">20.2.2.</span> <span class="nav-text">调用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看"><span class="nav-number">20.2.3.</span> <span class="nav-text">查看</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改-amp-删除函数"><span class="nav-number">20.2.4.</span> <span class="nav-text">修改&amp;删除函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参数-amp-变量作用域"><span class="nav-number">20.2.5.</span> <span class="nav-text">参数&amp;变量作用域</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#存储过程procedure"><span class="nav-number">21.</span> <span class="nav-text">存储过程procedure</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-5"><span class="nav-number">21.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建-1"><span class="nav-number">21.2.</span> <span class="nav-text">创建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看-1"><span class="nav-number">21.3.</span> <span class="nav-text">查看</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调用-1"><span class="nav-number">21.4.</span> <span class="nav-text">调用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改-amp-删除"><span class="nav-number">21.5.</span> <span class="nav-text">修改&amp;删除</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#存储过程参数"><span class="nav-number">21.6.</span> <span class="nav-text">存储过程参数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#in"><span class="nav-number">21.6.1.</span> <span class="nav-text">in</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#out"><span class="nav-number">21.6.2.</span> <span class="nav-text">out</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#inout"><span class="nav-number">21.6.3.</span> <span class="nav-text">inout</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Myql数据库驱动"><span class="nav-number">22.</span> <span class="nav-text">Myql数据库驱动</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-snowflake-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">安₃</span>

  

  
</div>



<!--





-->





        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  













  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.0"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  


<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
</body>
</html>
