<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="概述 Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架 分层 web层：struts，spring-MVC service层：spring dao层：hibernate，mybatis ， jdbcTemplate  –&amp;gt; spring-data   一站式 每一个层都提供的解决方案   轻量级 与EJB对比，依赖资源少，销毁的资源少     Spr">
<meta property="og:type" content="article">
<meta property="og:title" content="xd-Spring">
<meta property="og:url" content="http://yoursite.com/2018/12/11/xd-Spring/index.html">
<meta property="og:site_name" content="安₃">
<meta property="og:description" content="概述 Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架 分层 web层：struts，spring-MVC service层：spring dao层：hibernate，mybatis ， jdbcTemplate  –&amp;gt; spring-data   一站式 每一个层都提供的解决方案   轻量级 与EJB对比，依赖资源少，销毁的资源少     Spr">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://gitee.com/3noanswer/pics/raw/master/spring-overview.png">
<meta property="og:image" content="https://gitee.com/3noanswer/pics/raw/master/springAPI体系.png">
<meta property="og:image" content="https://gitee.com/3noanswer/pics/raw/master/Bean实例化过程.png">
<meta property="og:updated_time" content="2019-01-26T16:34:04.952Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="xd-Spring">
<meta name="twitter:description" content="概述 Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架 分层 web层：struts，spring-MVC service层：spring dao层：hibernate，mybatis ， jdbcTemplate  –&amp;gt; spring-data   一站式 每一个层都提供的解决方案   轻量级 与EJB对比，依赖资源少，销毁的资源少     Spr">
<meta name="twitter:image" content="https://gitee.com/3noanswer/pics/raw/master/spring-overview.png">






  <link rel="canonical" href="http://yoursite.com/2018/12/11/xd-Spring/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>xd-Spring | 安₃</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
	<!--github start-->
	<a href="https://github.com/awcnoanswer" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
	<!--github end-->
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">安₃</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/11/xd-Spring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="安₃">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://github.com/awcnoanswer/myPicture/raw/master/headPic/swk.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="安₃">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">xd-Spring
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-11 00:40:07" itemprop="dateCreated datePublished" datetime="2018-12-11T00:40:07+08:00">2018-12-11</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-01-27 00:34:04" itemprop="dateModified" datetime="2019-01-27T00:34:04+08:00">2019-01-27</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Frame/" itemprop="url" rel="index"><span itemprop="name">Frame</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><ul>
<li>Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架<ul>
<li><strong>分层</strong><ul>
<li>web层：struts，spring-MVC</li>
<li>service层：spring</li>
<li>dao层：hibernate，mybatis ， jdbcTemplate  –&gt; spring-data</li>
</ul>
</li>
<li><strong>一站式</strong><ul>
<li>每一个层都提供的解决方案</li>
</ul>
</li>
<li><strong>轻量级</strong><ul>
<li>与EJB对比，依赖资源少，销毁的资源少</li>
</ul>
</li>
</ul>
</li>
<li>Spring的核心是<strong>控制反转（IOC）</strong>和<strong>面向切面（AOP）</strong></li>
</ul>
<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul>
<li><code>https://repo.spring.io/webapp/#/home</code><ul>
<li><code>artifacts</code>→<code>libs-release-loacl</code>→<code>springframework</code>→<code>spring</code></li>
</ul>
</li>
</ul>
<h2 id="耦合"><a href="#耦合" class="headerlink" title="耦合"></a>耦合</h2><ul>
<li>解耦和<ul>
<li>不直接new对象，通过反射创建对象，编译时就不依赖对象类了。</li>
<li>通过工厂，读取配置文件的方式。配置文件中<code>key=对象全类名</code></li>
</ul>
</li>
<li>单例<ul>
<li>每次都是用反射创建对象，是多例的，</li>
<li>而service和dao中通常没有成员变量，不存在线程安全问题，所以单例比较好。</li>
<li>在反射创建对象后，将对象存在一个容器中（如map），获取对象时从容器中获得，就是同一个对象了。</li>
</ul>
</li>
</ul>
<h2 id="书籍"><a href="#书籍" class="headerlink" title="书籍"></a>书籍</h2><ul>
<li><code>Expert One-to-One J2EE Design and Development</code></li>
<li><code>Expert One-to-One J2EE Development without EJB</code></li>
</ul>
<h1 id="体系结构"><a href="#体系结构" class="headerlink" title="体系结构"></a>体系结构</h1><p><img src="https://gitee.com/3noanswer/pics/raw/master/spring-overview.png" alt=""></p>
<h2 id="Core-Container-核心容器"><a href="#Core-Container-核心容器" class="headerlink" title="Core Container(核心容器)"></a>Core Container(核心容器)</h2><h3 id="Beans"><a href="#Beans" class="headerlink" title="Beans"></a><code>Beans</code></h3><ul>
<li>管理bean    </li>
</ul>
<h3 id="Core"><a href="#Core" class="headerlink" title="Core"></a><code>Core</code></h3><ul>
<li>核心</li>
</ul>
<h3 id="Context"><a href="#Context" class="headerlink" title="Context"></a><code>Context</code></h3><ul>
<li>上下文(配置文件…)</li>
</ul>
<h3 id="Expression-Language"><a href="#Expression-Language" class="headerlink" title="Expression Language"></a><code>Expression Language</code></h3><ul>
<li>SpEL(springEl表达式…)</li>
</ul>
<h3 id="Messaging"><a href="#Messaging" class="headerlink" title="Messaging"></a><code>Messaging</code></h3><h2 id="Aop-Aspect-Oriented-Programming"><a href="#Aop-Aspect-Oriented-Programming" class="headerlink" title="Aop(Aspect Oriented Programming)"></a>Aop(Aspect Oriented Programming)</h2><h3 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a><code>AOP</code></h3><ul>
<li>面向切面编程</li>
</ul>
<h3 id="Aspects"><a href="#Aspects" class="headerlink" title="Aspects"></a><code>Aspects</code></h3><ul>
<li>AOP框架</li>
</ul>
<h3 id="Instrumentation"><a href="#Instrumentation" class="headerlink" title="Instrumentation"></a><code>Instrumentation</code></h3><h2 id="Data-Access-Integration"><a href="#Data-Access-Integration" class="headerlink" title="Data Access/Integration"></a>Data Access/Integration</h2><h3 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a><code>JDBC</code></h3><ul>
<li>jdbc的支持 JdbcTemplate</li>
</ul>
<h3 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a><code>ORM</code></h3><ul>
<li>对象关系映射</li>
</ul>
<h3 id="OXM"><a href="#OXM" class="headerlink" title="OXM"></a><code>OXM</code></h3><ul>
<li>对象xml映射，集成orm框架</li>
</ul>
<h3 id="JMS"><a href="#JMS" class="headerlink" title="JMS"></a><code>JMS</code></h3><ul>
<li>java消息服务</li>
</ul>
<h3 id="Transactions"><a href="#Transactions" class="headerlink" title="Transactions"></a><code>Transactions</code></h3><ul>
<li>事务控制</li>
</ul>
<h2 id="Web-MVC-Remoting"><a href="#Web-MVC-Remoting" class="headerlink" title="Web(MVC/Remoting)"></a>Web(MVC/Remoting)</h2><h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a><code>Web</code></h3><h3 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a><code>Servlet</code></h3><h3 id="Portlet"><a href="#Portlet" class="headerlink" title="Portlet"></a><code>Portlet</code></h3><h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a><code>WebSocket</code></h3><h3 id="struts"><a href="#struts" class="headerlink" title="struts"></a><code>struts</code></h3><h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><ul>
<li>……</li>
</ul>
<h1 id="Jar包"><a href="#Jar包" class="headerlink" title="Jar包"></a>Jar包</h1><h2 id="Core-1"><a href="#Core-1" class="headerlink" title="Core"></a>Core</h2><ul>
<li><code>spring-core.jar</code><ul>
<li>IoC与DI的最基本实现</li>
<li>依赖<code>commons-logging.jar</code></li>
<li>其他模块都依赖了<code>spring-core.jar</code>，所以整个spring框架都依赖了<code>commons-logging.jar</code></li>
<li>如果有自己的日志实现如log4j，可以排除对<code>commons-logging</code>的依赖</li>
</ul>
</li>
<li><code>spring-jcl.jar</code><ul>
<li>spring集成了<code>commons-logging.jar</code></li>
</ul>
</li>
<li><code>spring-beans.jar</code><ul>
<li>Bean工厂与bean的装配</li>
</ul>
</li>
<li><code>spring-context.jar</code><ul>
<li>spring的上下文即IoC容器</li>
</ul>
</li>
<li><code>spring-expression.jar</code><ul>
<li>spring表达式语言</li>
</ul>
</li>
</ul>
<h2 id="Aop"><a href="#Aop" class="headerlink" title="Aop"></a>Aop</h2><ul>
<li><code>spring-aop.jar</code><ul>
<li>aop实现</li>
<li>依赖<code>aopalliance.jar</code><ul>
<li>aop联盟的包</li>
</ul>
</li>
</ul>
</li>
<li><code>spring-aspects.jar</code><ul>
<li>集成AspectJ</li>
<li>依赖<code>aspectjweaver.jar</code><ul>
<li>aspect规范</li>
</ul>
</li>
</ul>
</li>
<li><code>spring-instrument.jar</code><ul>
<li>提供一些类级的工具支持和ClassLoader级的实现，用于服务器</li>
</ul>
</li>
<li><code>spring-instrument-tomcat.jar</code><ul>
<li>针对tomcat的instrument实现</li>
</ul>
</li>
</ul>
<h2 id="data-access"><a href="#data-access" class="headerlink" title="data access"></a>data access</h2><ul>
<li><code>spring-jdbc.jar</code><ul>
<li>jdbc的支持</li>
</ul>
</li>
<li><code>spring-tx.jar</code><ul>
<li>事务控制</li>
</ul>
</li>
<li><code>spring-orm.jar</code><ul>
<li>对象关系映射，集成orm框架</li>
</ul>
</li>
<li><code>spring-oxm.jar</code><ul>
<li>对象xml映射</li>
</ul>
</li>
<li><code>spring-jms.jar</code><ul>
<li>java消息服务</li>
</ul>
</li>
</ul>
<h2 id="web"><a href="#web" class="headerlink" title="web"></a>web</h2><ul>
<li><code>spring-web.jar</code><ul>
<li>基础web功能，如文件上传</li>
</ul>
</li>
<li><code>spring-webmvc.jar</code><ul>
<li>mvc实现</li>
</ul>
</li>
<li><code>spring-webmvc-portlet.jar</code><ul>
<li>基于portlet的mvc实现</li>
</ul>
</li>
<li><code>spring-struts.jar</code><ul>
<li>与struts的集成，不推荐，spring4不再提供</li>
</ul>
</li>
</ul>
<h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><ul>
<li><code>spring-test.jar</code><ul>
<li>spring测试，提供junit与mock测试功能</li>
</ul>
</li>
</ul>
<h2 id="support"><a href="#support" class="headerlink" title="support"></a>support</h2><ul>
<li><code>spring-context-support.jar</code><ul>
<li>spring额外支持包，比如邮件服务、视图解析等</li>
</ul>
</li>
</ul>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="核心监听器"><a href="#核心监听器" class="headerlink" title="核心监听器"></a>核心监听器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;listener&gt;</span><br><span class="line">    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</span><br><span class="line">&lt;/listener&gt;</span><br><span class="line">&lt;context-param&gt;</span><br><span class="line">    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span><br><span class="line">    &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;</span><br><span class="line">&lt;/context-param&gt;</span><br></pre></td></tr></table></figure>
<h2 id="核心配置"><a href="#核心配置" class="headerlink" title="核心配置"></a>核心配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 扫描注解 --&gt;</span><br><span class="line">&lt;context:component-scan base-package=&quot;&quot;/&gt;</span><br><span class="line">&lt;!-- 配置properties --&gt;</span><br><span class="line">&lt;context:property-placeholder location=&quot;classpath:包名xxx.properties&quot;/&gt;</span><br></pre></td></tr></table></figure>
<h1 id="核心API-了解"><a href="#核心API-了解" class="headerlink" title="核心API(了解)"></a>核心API(了解)</h1><h2 id="体系"><a href="#体系" class="headerlink" title="体系"></a>体系</h2><p><img src="https://gitee.com/3noanswer/pics/raw/master/springAPI体系.png" alt=""></p>
<h2 id="BeanFactory"><a href="#BeanFactory" class="headerlink" title="BeanFactory"></a>BeanFactory</h2><ul>
<li>spring原始接口，针对原始接口的实现类功能较为单一</li>
<li>特点<ul>
<li>此接口实现类的容器，每次获取对象时才会创建对象。</li>
<li><strong>延迟加载，第一次获取对象（getBean()）时才实例化Bean</strong></li>
</ul>
</li>
</ul>
<h2 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h2><ul>
<li>BeanFactory子接口，功能更强大。<ul>
<li>国际化，事件传递，bean自动装配….</li>
</ul>
</li>
<li>特点<ul>
<li><strong>立即加载，配置文件一加载就会实例化配置的所有Bean</strong></li>
</ul>
</li>
</ul>
<h2 id="ClassPathXmlApplicationContext"><a href="#ClassPathXmlApplicationContext" class="headerlink" title="ClassPathXmlApplicationContext"></a>ClassPathXmlApplicationContext</h2><ul>
<li>ApplicationContext实现类</li>
<li>用于加载类路径下的xml</li>
</ul>
<h2 id="FileSystemXmlApplicaitonContext"><a href="#FileSystemXmlApplicaitonContext" class="headerlink" title="FileSystemXmlApplicaitonContext"></a>FileSystemXmlApplicaitonContext</h2><ul>
<li>ApplicationContext实现类</li>
<li>用于加载磁盘任意路径下的xml</li>
</ul>
<h2 id="AnnotationConfigApplicationContext"><a href="#AnnotationConfigApplicationContext" class="headerlink" title="AnnotationConfigApplicationContext"></a>AnnotationConfigApplicationContext</h2><ul>
<li>ApplicationContext实现类</li>
<li>用于读取注解创建容器</li>
</ul>
<h1 id="IOC（Inversion-of-Control）"><a href="#IOC（Inversion-of-Control）" class="headerlink" title="IOC（Inversion of Control）"></a>IOC（<code>Inversion of Control</code>）</h1><ul>
<li>控制反转</li>
<li>把创建对象的权力交给Spring。</li>
</ul>
<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>降低耦合。</p>
<h2 id="实现策略"><a href="#实现策略" class="headerlink" title="实现策略"></a>实现策略</h2><ul>
<li>DI（<code>Dependency Injection</code>）依赖注入</li>
<li>DL（<code>Dependency Lookup</code>）依赖查找</li>
</ul>
<h2 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h2><ul>
<li>依赖<ul>
<li>一个对象需要使用另一个对象</li>
<li>is a ：是一个，继承。</li>
<li>has a：有一个，成员变量，依赖</li>
</ul>
</li>
<li>注入<ul>
<li>注入方式<ul>
<li>set</li>
<li>构造</li>
<li>字段</li>
</ul>
</li>
<li>注入类型<ul>
<li>值类型</li>
<li>引用类型</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Bean基于xml"><a href="#Bean基于xml" class="headerlink" title="Bean基于xml"></a>Bean基于xml</h1><h2 id="Bean实例化方式"><a href="#Bean实例化方式" class="headerlink" title="Bean实例化方式"></a>Bean实例化方式</h2><h3 id="默认构造"><a href="#默认构造" class="headerlink" title="默认构造"></a>默认构造</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;&quot; class=&quot;bean全类名&quot;&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>必须提供默认构造</li>
</ul>
<h3 id="静态工厂"><a href="#静态工厂" class="headerlink" title="静态工厂"></a>静态工厂</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;&quot;  class=&quot;静态工厂全类名&quot;  factory-method=&quot;静态工厂中获取bean的静态方法&quot;&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>常用于    spring整合其他框架（工具）</li>
</ul>
<h3 id="实例工厂"><a href="#实例工厂" class="headerlink" title="实例工厂"></a>实例工厂</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;工厂id&quot; class=&quot;工厂全限定类名&quot;&gt;</span><br><span class="line">&lt;bean id=&quot;&quot; factory-bean=&quot;工厂id&quot; factory-method=&quot;工厂中获取bean的方法&quot;&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>必须先有工厂实例对象，通过工厂实例对象创建对象。</li>
</ul>
<h2 id="Bean作用域"><a href="#Bean作用域" class="headerlink" title="Bean作用域"></a>Bean作用域</h2><ul>
<li><code>&lt;bean id=&quot;&quot; class=&quot;&quot;  scope=&quot;&quot;&gt;</code></li>
</ul>
<h3 id="scope"><a href="#scope" class="headerlink" title="scope"></a>scope</h3><ul>
<li><code>singleton</code><ul>
<li>单例 默认</li>
<li>加载配置文件就会创建bean</li>
</ul>
</li>
<li><code>prototype</code><ul>
<li>多例 每执行一次getBean将获得一个实例</li>
<li>启动容器并不会创建对象，获得 bean 的时候才会创建对象</li>
</ul>
</li>
<li><code>request</code><ul>
<li>作用于web应用的请求范围</li>
<li>每次http请求会创建一个新的bean</li>
</ul>
</li>
<li><code>session</code><ul>
<li>作用于web应用的会话范围</li>
<li>同一个HTTP session共享一个bean</li>
</ul>
</li>
<li><code>globalSession</code><ul>
<li>作用于集群环境的会话范围（全局会话范围）</li>
<li>若不是集群，就是<code>session</code></li>
</ul>
</li>
</ul>
<h2 id="Bean生命周期"><a href="#Bean生命周期" class="headerlink" title="Bean生命周期"></a>Bean生命周期</h2><p><img src="https://gitee.com/3noanswer/pics/raw/master/Bean实例化过程.png" alt=""></p>
<ol>
<li>instantiate bean<ul>
<li>对象实例化</li>
</ul>
</li>
<li>populate properties<ul>
<li>属性注入</li>
</ul>
</li>
<li>BeanNameAware <ul>
<li>如果Bean实现了BeanNameAware接口，执行 <code>setBeanName()</code>传入Bean的id</li>
</ul>
</li>
<li>BeanFactoryAware<ul>
<li>如果Bean实现了BeanFactoryAware接口，执行<code>setBeanFactory()</code>传入BeanFactory实例</li>
</ul>
</li>
<li>ApplicationContextAware <ul>
<li>如果Bean实现了ApplicationContextAware接口，执行<code>setApplicationContext()</code>传入ApplicationContext实例</li>
</ul>
</li>
<li><strong>BeanPostProcessor（后处理Bean）</strong><ul>
<li>如果Bean实现了BeanPostProcessor接口，执行<code>postProcessBeforeInitialization()</code>（前置处理）</li>
</ul>
</li>
<li>InitializingBean<ul>
<li>如果Bean实现了InitializingBean接口，执行<code>afterPropertiesSet()</code></li>
</ul>
</li>
<li><strong>Bean定义文件中的 init-method</strong><ul>
<li><code>&lt;bean init-method=&quot;初始化方法&quot;&gt;</code></li>
<li>若配置则执行此指定初始化方法</li>
</ul>
</li>
<li><strong>BeanPostProcessor（后处理Bean）</strong><ul>
<li>如果Bean实现了BeanPostProcessor接口，执行<code>postProcessAfterInitialization()</code>（后置处理）</li>
<li>此时，Bean已经可以被应用系统使用，并且将保留在BeanFactory中直到它不在被使用。</li>
</ul>
</li>
<li>执行业务处理</li>
<li>DisposableBean <ul>
<li>如果Bean实现了DisposableBean接口，执行 <code>destroy()</code></li>
</ul>
</li>
<li><strong>Bean定义文件中的 destroy-method</strong><ul>
<li><code>&lt;bean destroy-method=&quot;销毁方法&quot;&gt;</code></li>
<li>若配置则执行此指定销毁方法</li>
<li>销毁方法要执行<ul>
<li>必须关闭容器。(ApplicationContext)</li>
<li>必须是单例</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="单例Bean"><a href="#单例Bean" class="headerlink" title="单例Bean"></a>单例Bean</h3><ul>
<li>创建<ul>
<li>容器创建，bean就会创建</li>
</ul>
</li>
<li>存活<ul>
<li>容器存在，bean就存在</li>
</ul>
</li>
<li>销毁<ul>
<li>容器销毁，bean就销毁</li>
</ul>
</li>
</ul>
<h3 id="多例Bean"><a href="#多例Bean" class="headerlink" title="多例Bean"></a>多例Bean</h3><ul>
<li>创建<ul>
<li>第一次使用bean对象时，bean创建</li>
</ul>
</li>
<li>存活<ul>
<li>对象使用过程中，存活</li>
</ul>
</li>
<li>销毁<ul>
<li>当对象长时间不用，且没有别的对象引用时，由java垃圾回收器回收。</li>
</ul>
</li>
</ul>
<h3 id="BeanPostProcessor-后处理Bean"><a href="#BeanPostProcessor-后处理Bean" class="headerlink" title="BeanPostProcessor (后处理Bean)"></a>BeanPostProcessor (后处理Bean)</h3><ul>
<li>spring提供的工厂勾子，用于修改实例对象，如可以生成代理对象，是AOP底层</li>
</ul>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul>
<li>spring提供的一种机制，只要实现此接口，并将实现类提供给spring容器，spring容器将自动<ul>
<li>在初始化方法前<ul>
<li>执行<code>postProcessBeforeInitialization(Object bean,String beanName)</code><ul>
<li><code>bean</code><ul>
<li>就是spring创建的要初始化的目标类</li>
</ul>
</li>
<li>返回值<ol>
<li>spring创建的目标对象</li>
<li>目标对象的代理对象</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>在初始化方法后<ul>
<li>执行<code>postProcessAfterInitialization(Object bean,String beanName)</code> <ul>
<li>返回值<ol>
<li>spring创建的目标对象</li>
<li>目标对象的代理对象</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><ul>
<li>写一个类实现BeanPostProcessor接口</li>
<li>配置<code>&lt;bean class=&quot;&quot;&gt;</code><ul>
<li>后处理bean会对所有目标类有效     </li>
<li>如何针对某一个目标类？<ul>
<li>利用实现类中<code>postProcessBeforeInitialization()</code>/<code>postProcessAfterInitialization()</code>方法的第二个参数beanName来进行判断</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="类A的创建初始化→目标方法→销毁过程"><a href="#类A的创建初始化→目标方法→销毁过程" class="headerlink" title="类A的创建初始化→目标方法→销毁过程"></a>类A的创建初始化→目标方法→销毁过程</h4><ol>
<li><p>一般过程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A a=new A()</span><br><span class="line">a.init()</span><br><span class="line">a.add()</span><br><span class="line">a.destroy()</span><br></pre></td></tr></table></figure>
</li>
<li><p>现有一类B实现了BeanPostProcessor接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A a=new A()</span><br><span class="line">a/aProxy=B.postProcessBeforeInitialization(a)</span><br><span class="line">a.init()</span><br><span class="line">a/aproxy=B.postProcessAfterInitialization(a)</span><br><span class="line">a.add()</span><br><span class="line">a.destroy()</span><br></pre></td></tr></table></figure>
<ul>
<li>如上在初始化方法前后都可以获取代理对象。代理对象又可以在目标方法前后做一些事，如事务…<ul>
<li>注意在初始化方法前获取代理对象，则初始化方法使用的就是代理对象。而可能指定的初始化方法只有实现类中有，接口中可能没有，</li>
</ul>
</li>
<li>对于jdk代理，使用的是接口。<ul>
<li>前获取代理对象<ul>
<li>指定的初始化方法接口中必须有。</li>
</ul>
</li>
<li>后获取代理对象</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="Bean基于注解"><a href="#Bean基于注解" class="headerlink" title="Bean基于注解"></a>Bean基于注解</h1><ul>
<li><code>&lt;context:component-scan base-package=&quot;&quot;/&gt;</code><ul>
<li>配置注解扫描</li>
</ul>
</li>
</ul>
<h2 id="Bean实例化"><a href="#Bean实例化" class="headerlink" title="Bean实例化"></a>Bean实例化</h2><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>取代的是<code>&lt;bean class=&quot;&quot;&gt;</code></li>
<li>默认bean id为 类名首字母小写</li>
</ul>
<h3 id="实例化注解"><a href="#实例化注解" class="headerlink" title="实例化注解"></a>实例化注解</h3><ul>
<li><code>@Component</code></li>
<li><code>@Controller</code><ul>
<li>web层</li>
</ul>
</li>
<li><code>@Service</code><ul>
<li>service层</li>
</ul>
</li>
<li><code>@Repository</code><ul>
<li>dao层</li>
</ul>
</li>
</ul>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><ul>
<li><code>@Scope</code><ul>
<li><code>@Scope(&quot;prototype&quot;)</code>多例</li>
</ul>
</li>
</ul>
<h3 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h3><ul>
<li><code>@PostConstruct</code><ul>
<li>初始化</li>
</ul>
</li>
<li><code>@PreDestroy</code><ul>
<li>销毁</li>
</ul>
</li>
</ul>
<h1 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h1><h2 id="注入的数据类型"><a href="#注入的数据类型" class="headerlink" title="注入的数据类型"></a>注入的数据类型</h2><ol>
<li>基本类型和String</li>
<li>其它Bean（xml或注解配置过的Bean）</li>
<li>复杂类型/数组集合</li>
</ol>
<h3 id="数组-集合的注入"><a href="#数组-集合的注入" class="headerlink" title="数组/集合的注入"></a>数组/集合的注入</h3><ul>
<li>使用set方法注入(其它构造 p spel也可以)</li>
<li>分为两种结构，同一种结构的标签可以通用<ul>
<li>list<ul>
<li>数组，list，set</li>
</ul>
</li>
<li>map<ul>
<li>map，properties</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean&gt;</span><br><span class="line">	&lt;property name=&quot;数组属性名&quot;&gt;</span><br><span class="line">		&lt;array&gt;</span><br><span class="line">			&lt;value&gt;值&lt;/value&gt;</span><br><span class="line">			&lt;value&gt;值&lt;/value&gt;</span><br><span class="line">		&lt;/array&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean&gt;</span><br><span class="line">	&lt;property name=&quot;List属性名&quot;&gt;</span><br><span class="line">		&lt;list&gt;</span><br><span class="line">			&lt;value&gt;值&lt;/value&gt;</span><br><span class="line">			&lt;value&gt;值&lt;/value&gt;</span><br><span class="line">		&lt;/list&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean&gt;</span><br><span class="line">	&lt;property name=&quot;Set属性名&quot;&gt;</span><br><span class="line">		&lt;set&gt;</span><br><span class="line">			&lt;value&gt;值&lt;/value&gt;</span><br><span class="line">			&lt;value&gt;值&lt;/value&gt;</span><br><span class="line">		&lt;/set&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean&gt;</span><br><span class="line">	&lt;property name=&quot;Map属性名&quot;&gt;</span><br><span class="line">		&lt;map&gt;</span><br><span class="line">			&lt;entry key=&quot;键&quot; value=&quot;值&quot; /&gt;</span><br><span class="line">			&lt;entry key=&quot;键&quot;&gt;</span><br><span class="line">				&lt;value&gt;值&lt;/value&gt;</span><br><span class="line">			&lt;/entry&gt;</span><br><span class="line">		&lt;/map&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h4 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean&gt;</span><br><span class="line">	&lt;property name=&quot;Properties属性名&quot;&gt;</span><br><span class="line">		&lt;props&gt;</span><br><span class="line">			&lt;prop key=&quot;键&quot;&gt;值&lt;/prop&gt;</span><br><span class="line">			&lt;prop key=&quot;键&quot;&gt;值&lt;/prop&gt;</span><br><span class="line">		&lt;/props&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<h2 id="注入方式"><a href="#注入方式" class="headerlink" title="注入方式"></a>注入方式</h2><h3 id="基于xml注入"><a href="#基于xml注入" class="headerlink" title="基于xml注入"></a>基于xml注入</h3><h4 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;user&quot; class=&quot;an.s1.domain.User&quot;&gt;</span><br><span class="line">	&lt;constructor-arg name=&quot;name&quot; value=&quot;小强&quot;/&gt;</span><br><span class="line">	&lt;constructor-arg name=&quot;age&quot; value=&quot;24&quot;/&gt;</span><br><span class="line">	&lt;constructor-arg index=&quot;0&quot; type=&quot;java.lang.String&quot; value=&quot;xx&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建bean时默认使用的是空参构造，可以指定使用哪个构造方法，这样即可为属性注入值。<ul>
<li><code>&lt;constructor-arg&gt;</code><ul>
<li>配置给谁赋值<ul>
<li><code>name</code><ul>
<li>属性名</li>
</ul>
</li>
<li><code>index</code><ul>
<li>构造参数的索引 从0开始。</li>
<li>若只有索引，匹配到多个构造方法时，使用第一个匹配的。配合type使用。</li>
</ul>
</li>
<li><code>type</code><ul>
<li>参数类型</li>
</ul>
</li>
</ul>
</li>
<li>配置值<ul>
<li><code>value</code><ul>
<li>为普通属性数据赋值</li>
</ul>
</li>
<li><code>ref</code><ul>
<li>为引用属性数据赋值</li>
<li>一般是另一个bean 的id</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="set方法"><a href="#set方法" class="headerlink" title="set方法"></a>set方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;user&quot; class=&quot;an.s1.domain.User&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;id&quot; value=&quot;3&quot;/&gt;</span><br><span class="line">    &lt;property name=&quot;name&quot; value=&quot;旺财&quot;/&gt;</span><br><span class="line">    &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;property&gt;</code><ul>
<li><code>name</code><ul>
<li>bean中set方法中的属性名</li>
</ul>
</li>
<li><code>value</code><ul>
<li>为普通属性数据赋值</li>
</ul>
</li>
<li><code>ref</code><ul>
<li>为引用属性数据赋值</li>
<li>一般是另一个bean 的id</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="P命名空间-了解"><a href="#P命名空间-了解" class="headerlink" title="P命名空间(了解)"></a>P命名空间(了解)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean&gt;</span><br><span class="line">	&lt;property name=&quot;属性名&quot; value=&quot;普通值&quot; ref=&quot;引用值&quot;&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;bean p:属性名=&quot;普通值&quot; p:属性名-ref=&quot;引用值&quot;/&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>对set方法注入进行简化，去掉了标签体中的<code>&lt;property&gt;</code>标签，用属性代替<ul>
<li><code>&lt;property name=&quot;key&quot; value=&quot;value&quot;/&gt;</code>替换成<code>p:key=&quot;value&quot;</code></li>
</ul>
</li>
</ul>
<h4 id="SpEL-了解"><a href="#SpEL-了解" class="headerlink" title="SpEL(了解)"></a>SpEL(了解)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name=&quot;&quot; value=&quot;#&#123;spEL表达式&#125;&quot;&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>spEL表达式<ul>
<li><code>#{123}</code><ul>
<li>数字</li>
</ul>
</li>
<li><code>#{&#39;an&#39;}</code><ul>
<li>字符串</li>
</ul>
</li>
<li><code>#{beanId}</code><ul>
<li>另一个bean引用</li>
</ul>
</li>
<li><code>#{beanId.propName}</code><ul>
<li>操作属性数据</li>
</ul>
</li>
<li><code>#{beanId.toString()}</code><ul>
<li>执行方法</li>
</ul>
</li>
<li><code>#{xx?.method()}</code><ul>
<li>如果xx为空则不调用方法,不为空调用</li>
</ul>
</li>
<li><code>#{T(类).字段|方法}</code><ul>
<li>静态方法或字段</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="基于注解注入"><a href="#基于注解注入" class="headerlink" title="基于注解注入"></a>基于注解注入</h3><h4 id="Value-value-”值-spEL”"><a href="#Value-value-”值-spEL”" class="headerlink" title="@Value(value=”值/spEL”)"></a>@Value(value=”值/spEL”)</h4><ul>
<li>注入基本数据类型和String</li>
<li>spEL在类文件中格式为<code>${}</code>，在xml中为<code>#{}</code></li>
</ul>
<h4 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a>@Autowired</h4><ul>
<li>按照类型注入<ul>
<li>如果容器没有此类型匹配项<ul>
<li>注入失败</li>
</ul>
</li>
<li>如果容器有一个此类型匹配项<ul>
<li>注入成功</li>
</ul>
</li>
<li>如果容器有多个此类型匹配项<ul>
<li>则以要注入的对象变量名作为Bean的id去匹配所有匹配项，若有此id则注入成功，无此id则注入失败。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Qualifier-value-”beanId”"><a href="#Qualifier-value-”beanId”" class="headerlink" title="@Qualifier(value=”beanId”)"></a>@Qualifier(value=”beanId”)</h4><ul>
<li>作用在字段上<ul>
<li>不能单独使用，配合<code>@Autowire</code></li>
<li>在按照类型注入的基础上指定bean的id</li>
</ul>
</li>
<li>作用在方法上<ul>
<li>可以单独使用</li>
</ul>
</li>
</ul>
<h4 id="Resource-name-”beanId”"><a href="#Resource-name-”beanId”" class="headerlink" title="@Resource(name=”beanId”)"></a>@Resource(name=”beanId”)</h4><ul>
<li>按照bean的id注入</li>
</ul>
<h1 id="新注解"><a href="#新注解" class="headerlink" title="新注解"></a>新注解</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><ul>
<li>原有注解还是要配合xml一起使用，如扫描注解，配置不是我们编写的bean如数据源..</li>
</ul>
<h2 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h2><h3 id="作用-1"><a href="#作用-1" class="headerlink" title="作用"></a>作用</h3><ul>
<li>配置在类上，指定当前类是一个spring配置类，创建容器时会从该类上加载注解。相当于<code>applicationContext.xml</code></li>
<li>创建容器要使用ApplicationContext的注解实现类AnnotationApplicationContext<ul>
<li><code>ApplicationContext ac = new AnnotationApplicationContext(有@Configuration 注解的类.class)</code></li>
</ul>
</li>
</ul>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>value</code><ul>
<li>用于指定配置类的字节码</li>
</ul>
</li>
</ul>
<h2 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h2><h3 id="作用-2"><a href="#作用-2" class="headerlink" title="作用"></a>作用</h3><ul>
<li>用于指定 spring 在初始化容器时要扫描的包，即原来的扫描注解</li>
</ul>
<h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>basePackages</code><ul>
<li>用于指定要扫描的包</li>
</ul>
</li>
<li><code>value</code><ul>
<li>和basePackages一样</li>
</ul>
</li>
</ul>
<h2 id="Bean"><a href="#Bean" class="headerlink" title="@Bean"></a>@Bean</h2><h3 id="作用-3"><a href="#作用-3" class="headerlink" title="作用"></a>作用</h3><ul>
<li>只能写在方法上，把当前方法的返回值作为bean对象存入spring的ioc容器中</li>
<li>如果方法有参数，spring会去容器中查找是否有参数对应的bean，查找方式与<code>@Autowire</code>一样，且也可以加<code>@Qualifier</code>注解<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Bean(name=&quot;runner&quot;)</span><br><span class="line">@Scope(&quot;prototype&quot;)</span><br><span class="line">public QueryRunner createQueryRunner(@Qualifier(&quot;ds&quot;) DataSource dataSource)&#123;</span><br><span class="line">		return new QueryRunner(dataSource);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>name</code><ul>
<li>给当前@Bean 注解方法创建的对象指定一个名称(即 bean 的 id）</li>
<li>默认为方法名。</li>
</ul>
</li>
</ul>
<h2 id="PropertySource"><a href="#PropertySource" class="headerlink" title="@PropertySource"></a>@PropertySource</h2><h3 id="作用-4"><a href="#作用-4" class="headerlink" title="作用"></a>作用</h3><ul>
<li>用于加载<code>.properties</code> 文件</li>
</ul>
<h3 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>value[]</code><ul>
<li>用于指定 properties 文件位置</li>
<li>类路径下要加上<code>classpath:</code></li>
</ul>
</li>
</ul>
<h2 id="Import"><a href="#Import" class="headerlink" title="@Import"></a>@Import</h2><h3 id="作用-5"><a href="#作用-5" class="headerlink" title="作用"></a>作用</h3><ul>
<li>用于导入其他配置类</li>
<li>当我们使用@Import的注解之后，有@Import注解的类就父配置类，而导入的都是子配置类</li>
</ul>
<h3 id="属性-4"><a href="#属性-4" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>value[]</code><ul>
<li>用于指定其他配置类的字节码</li>
</ul>
</li>
</ul>
<h1 id="AOP-1"><a href="#AOP-1" class="headerlink" title="AOP"></a>AOP</h1><ul>
<li><code>Aspect Oriented Programming</code> </li>
<li>面向切面编程</li>
</ul>
<h2 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h2><ul>
<li>AOP采取横向抽取机制，取代了传统纵向继承体系重复性代码<ul>
<li>经典应用：事务管理、权限校验、异常处理、性能监视、安全检查、缓存 、日志等</li>
</ul>
</li>
<li>将核心业务代码与外围业务（日志记录、权限校验、异常处理、事务控制）代码分离出来，提高模块化，降低代码耦合度，使职责更单一</li>
</ul>
<h2 id="AOP的实现框架"><a href="#AOP的实现框架" class="headerlink" title="AOP的实现框架"></a>AOP的实现框架</h2><h3 id="AspectJ"><a href="#AspectJ" class="headerlink" title="AspectJ"></a>AspectJ</h3><ul>
<li>AspectJ是一个比较牛逼的AOP框架，他可以对类的成员变量，方法进行拦截。由于 AspectJ 是 Java 语言语法和语义的扩展，所以它提供了自己的一套处理方面的关键字。除了包含字段和方法之外，AspectJ 的方面声明还包含切入点和通知成员。</li>
<li>AspectJ是一个java实现的AOP框架，它能够对java代码进行AOP编译（一般在编译期进行），让java代码具有AspectJ的AOP功能（当然需要特殊的编译器）</li>
<li>静态织入<ul>
<li>在编译期使用AspectJ的acj编译器(类似javac)把aspect类编译成class字节码后，在java目标类编译时织入</li>
<li>即先编译aspect类再编译目标类</li>
</ul>
</li>
</ul>
<h3 id="Spring-AOP"><a href="#Spring-AOP" class="headerlink" title="Spring-AOP"></a>Spring-AOP</h3><ul>
<li>Spring AOP依赖的是 Spring 框架方便的、最小化的运行时配置，所以不需要独立的启动器。但是，使用这个技术，只能通知从 Spring 框架检索出的对象。Spring的AOP技术只能是对方法进行拦截</li>
<li>Spring AOP使用纯Java实现，不需要专门的编译过程和类加载器，在运行期通过代理方式向目标类织入增强代码</li>
<li>动态织入<ul>
<li>在运行时动态将要增强的代码织入到目标类中</li>
<li>通过动态代理技术完成<ul>
<li><strong>JDK动态代理</strong><ul>
<li>基于反射技术的实现</li>
<li><code>接口+实现类</code></li>
<li>代理对象格式<code>$Proxy</code></li>
<li><code>Proxy.newProxyInstance()</code></li>
</ul>
</li>
<li><strong>CGLIB动态代理</strong><ul>
<li>基于继承的机制实现</li>
<li><code>实现类</code></li>
<li>代理对象格式<code>xxxx$$EnhancerByCGLIB$$xxxxxx</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Enhancer enhancer = new Enhancer();</span><br><span class="line">// 确定父类</span><br><span class="line">enhancer.setSuperclass(testService.getClass());</span><br><span class="line">// 设置回调函数</span><br><span class="line">enhancer.setCallback() </span><br><span class="line">// 创建代理</span><br><span class="line">Object proxy =  enhancer.create();</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="AspectJ-amp-Spring-AOP"><a href="#AspectJ-amp-Spring-AOP" class="headerlink" title="AspectJ &amp; Spring-AOP"></a>AspectJ &amp; Spring-AOP</h2><h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><ul>
<li>Spring AOP 与ApectJ 的目的一致，都是为了统一处理横切业务</li>
</ul>
<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul>
<li>Spring AOP 并不尝试提供完整的AOP功能(即使它完全可以实现)Spring AOP 更注重的是与Spring IOC容器的结合，并结合该优势来解决横切业务的问题</li>
<li>AOP的功能完善方面AspectJ具有更大的优势</li>
</ul>
<h3 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h3><ul>
<li>AspectJ 1.5后，引入<code>@Aspect</code>形式的注解</li>
<li>Spring 2.0后便使用了与AspectJ一样的注解，并使用Aspectj来做切入点解析和匹配(AspectJ 5让第三方使用AspectJ的切入点解析和匹配引擎的工具API)。但是spring AOP底层依然是动态代理技术的实现，运行时仍旧是纯的spring AOP,并不依赖于Aspectj的编译器或者织入器</li>
</ul>
<h2 id="AOP使用"><a href="#AOP使用" class="headerlink" title="AOP使用"></a>AOP使用</h2><h3 id="开发阶段（程序员）"><a href="#开发阶段（程序员）" class="headerlink" title="开发阶段（程序员）"></a>开发阶段（程序员）</h3><ul>
<li>编写核心业务代码</li>
<li>公共代码抽取为通知</li>
<li>配置中声明切入点和通知的关系，即切面</li>
</ul>
<h3 id="运行阶段（Spring）"><a href="#运行阶段（Spring）" class="headerlink" title="运行阶段（Spring）"></a>运行阶段（Spring）</h3><ul>
<li>spring监控切入点方法的执行，一旦切入点方法运行，使用代理机制，动态创建目标对象的代理对象，根据通知类型，在代理对象的相应位置，将通知织入。</li>
</ul>
<h2 id="AOP术语"><a href="#AOP术语" class="headerlink" title="AOP术语"></a>AOP术语</h2><h3 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h3><ul>
<li>目标类</li>
<li>需要被代理的类。</li>
</ul>
<h3 id="Joinpoint"><a href="#Joinpoint" class="headerlink" title="Joinpoint"></a>Joinpoint</h3><ul>
<li>连接点</li>
<li>指目标类中那些可能被拦截到的方法</li>
</ul>
<h3 id="PointCut"><a href="#PointCut" class="headerlink" title="PointCut"></a>PointCut</h3><ul>
<li>切入点</li>
<li>已经被增强的连接点。即目标类中被拦截了的方法。</li>
</ul>
<h3 id="Advice"><a href="#Advice" class="headerlink" title="Advice"></a>Advice</h3><ul>
<li>通知/增强</li>
<li>在某个特定的pointcut上需要执行的动作（代码）</li>
<li>如日志，权限验证。。。</li>
</ul>
<h3 id="Weaving"><a href="#Weaving" class="headerlink" title="Weaving"></a>Weaving</h3><ul>
<li>织入</li>
<li>是指把切面的代码应用到目标对象target的目标函数的过程</li>
<li>spring采用动态代理织入</li>
<li>Aspectj采用编译期织入和类装载期织入</li>
</ul>
<h3 id="proxy"><a href="#proxy" class="headerlink" title="proxy"></a>proxy</h3><ul>
<li>代理类</li>
</ul>
<h3 id="Aspect-advisor"><a href="#Aspect-advisor" class="headerlink" title="Aspect/advisor"></a>Aspect/advisor</h3><ul>
<li>切面</li>
<li>是切入点pointcut和通知advice的结合,定义通知应用到哪些切入点上<ul>
<li>一个切入点和一个通知组成一条线</li>
<li>一个线是一个特殊的面。</li>
</ul>
</li>
</ul>
<h2 id="通知（Advice）"><a href="#通知（Advice）" class="headerlink" title="通知（Advice）"></a>通知（Advice）</h2><ul>
<li><code>org.aopalliance.aop.Advice</code></li>
<li>AOP联盟定义的通知</li>
</ul>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="前置通知"><a href="#前置通知" class="headerlink" title="前置通知"></a>前置通知</h4><ul>
<li><code>org.springframework.aop.MethodBeforeAdvice</code></li>
<li>在目标方法执行前实施增强</li>
</ul>
<h4 id="后置通知"><a href="#后置通知" class="headerlink" title="后置通知"></a>后置通知</h4><ul>
<li><code>org.springframework.aop.AfterReturningAdvice</code></li>
<li>在目标方法执行后实施增强</li>
</ul>
<h4 id="环绕通知"><a href="#环绕通知" class="headerlink" title="环绕通知"></a>环绕通知</h4><ul>
<li><code>org.aopalliance.intercept.MethodInterceptor</code></li>
<li>在目标方法执行前后实施增强</li>
<li>必须手动执行目标方法</li>
</ul>
<h4 id="异常抛出通知"><a href="#异常抛出通知" class="headerlink" title="异常抛出通知"></a>异常抛出通知</h4><ul>
<li><code>org.springframework.aop.ThrowsAdvice</code></li>
<li>在方法抛出异常后实施增强</li>
</ul>
<h4 id="引介通知"><a href="#引介通知" class="headerlink" title="引介通知"></a>引介通知</h4><ul>
<li><code>org.springframework.aop.IntroductionInterceptor</code></li>
<li>在目标类中添加一些新的方法和属性</li>
</ul>
<h2 id="AspectJ-1"><a href="#AspectJ-1" class="headerlink" title="AspectJ"></a>AspectJ</h2><h3 id="切入点表达式"><a href="#切入点表达式" class="headerlink" title="切入点表达式"></a>切入点表达式</h3><h4 id="execution"><a href="#execution" class="headerlink" title="execution()"></a><code>execution()</code></h4><ul>
<li>用于描述方法。</li>
</ul>
<h5 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h5><ul>
<li><code>execution(修饰符 返回值 包.类.方法(参数)throws 异常)</code></li>
</ul>
<h6 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h6><ul>
<li>一般省略</li>
<li><code>*</code> <ul>
<li>通配符，任意</li>
</ul>
</li>
<li><code>public</code><ul>
<li>公共</li>
</ul>
</li>
</ul>
<h6 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h6><ul>
<li>不可省略</li>
<li><code>void</code> <ul>
<li>无返回值</li>
</ul>
</li>
<li><code>String</code> <ul>
<li>返回字符串</li>
</ul>
</li>
<li><code>*</code> <ul>
<li>任意</li>
</ul>
</li>
</ul>
<h6 id="包"><a href="#包" class="headerlink" title="包"></a>包</h6><ul>
<li><code>..</code> 当前包及其子包</li>
<li><code>*</code> 任意</li>
</ul>
<h6 id="类"><a href="#类" class="headerlink" title="类"></a>类</h6><ul>
<li>不可省略</li>
<li><code>C</code> <ul>
<li>指定类</li>
</ul>
</li>
<li><code>*x</code> <ul>
<li>以x结尾的类</li>
</ul>
</li>
<li><code>x*</code> <ul>
<li>以x开头的类</li>
</ul>
</li>
<li><code>*</code> <ul>
<li>任意</li>
</ul>
</li>
</ul>
<h6 id="方法"><a href="#方法" class="headerlink" title="方法()"></a>方法()</h6><ul>
<li>不可省略</li>
<li><code>M</code> <ul>
<li>指定方法</li>
</ul>
</li>
<li><code>*x</code> <ul>
<li>以x结尾的方法</li>
</ul>
</li>
<li><code>x*</code> <ul>
<li>以x开头的方法</li>
</ul>
</li>
<li><code>*</code> <ul>
<li>任意</li>
</ul>
</li>
</ul>
<h6 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h6><ul>
<li>可以直接写数据类型<ul>
<li>基本类型直接写名称，如<code>int</code></li>
<li>引用类型写<code>包名.类名</code>，如<code>java.lang.String</code></li>
</ul>
</li>
<li><code>..</code><ul>
<li>任意类型，且有无参数皆可</li>
</ul>
</li>
<li><code>*</code><ul>
<li>任意类型，必须有参数</li>
</ul>
</li>
<li><code>()</code> 无参</li>
<li><code>(int)</code> 一个整数</li>
<li><code>(int,int)</code> 两个整数</li>
<li><code>(..)</code> 任意参数</li>
</ul>
<h6 id="throws"><a href="#throws" class="headerlink" title="throws"></a>throws</h6><ul>
<li>一般不写。</li>
</ul>
<h4 id="within-了解"><a href="#within-了解" class="headerlink" title="within(了解)"></a><code>within</code>(了解)</h4><ul>
<li>匹配包或子包中的方法</li>
<li><code>within(包目录)</code><ul>
<li><code>within(cn.an...*)</code></li>
</ul>
</li>
</ul>
<h4 id="this-了解"><a href="#this-了解" class="headerlink" title="this(了解)"></a><code>this</code>(了解)</h4><ul>
<li>匹配实现接口的代理对象中的方法</li>
<li><code>this(接口全限定名)</code><ul>
<li><code>this(cn.an.UserDao)</code></li>
</ul>
</li>
</ul>
<h4 id="target-了解"><a href="#target-了解" class="headerlink" title="target(了解)"></a><code>target</code>(了解)</h4><ul>
<li>匹配实现接口的目标对象中的方法</li>
<li><code>target(接口全限定名)</code><ul>
<li><code>target(cn.an.UserDao)</code></li>
</ul>
</li>
</ul>
<h4 id="args-了解"><a href="#args-了解" class="headerlink" title="args(了解)"></a><code>args</code>(了解)</h4><ul>
<li>匹配参数格式符合标准的方法</li>
<li><code>args(int,int)</code></li>
</ul>
<h4 id="bean-了解"><a href="#bean-了解" class="headerlink" title="bean(了解)"></a><code>bean</code>(了解)</h4><ul>
<li>匹配指定的bean所有的方法</li>
<li><code>bean(&quot;beanId&quot;)</code></li>
</ul>
<h3 id="通知类型"><a href="#通知类型" class="headerlink" title="通知类型"></a>通知类型</h3><h4 id="概述-3"><a href="#概述-3" class="headerlink" title="概述"></a>概述</h4><ul>
<li>aop联盟通知类型<ul>
<li>具有特性接口，必须实现，从而确定方法名称。</li>
</ul>
</li>
<li>aspectj通知类型<ul>
<li>只定义类型名称以及方法格式    </li>
</ul>
</li>
</ul>
<h4 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h4><h5 id="前置通知-1"><a href="#前置通知-1" class="headerlink" title="前置通知"></a>前置通知</h5><ul>
<li><code>before</code><ul>
<li>应用：各种校验</li>
<li>在方法执行前执行，如果通知抛出异常，阻止方法运行</li>
</ul>
</li>
<li><p>前置通知方法定义</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">自定义方法名([JoinPoint jp])&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>jp</code><ul>
<li>用于描述连接点(目标方法)</li>
<li>可以获取目标方法方法名等。。。。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="后置通知-1"><a href="#后置通知-1" class="headerlink" title="后置通知"></a>后置通知</h5><ul>
<li><code>afterReturning</code><ul>
<li>应用：常规数据处理</li>
<li>方法正常返回后执行，如果方法中抛出异常，通知无法执行</li>
<li>必须在方法执行后才执行，所以可以获得方法的返回值。</li>
</ul>
</li>
<li><p>后置通知方法定义</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">自定义方法名([JoinPoint jp],[Object obj])&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>obj</code><ul>
<li>目标方法返回值</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="环绕通知-1"><a href="#环绕通知-1" class="headerlink" title="环绕通知"></a>环绕通知</h5><ul>
<li><code>around</code><ul>
<li>应用：十分强大，可以做任何事情</li>
<li>方法执行前后分别执行，可以阻止方法的执行</li>
</ul>
</li>
<li>必须手动执行目标方法<ul>
<li>spring为我们提供了一个接口<code>ProceedingJoinPoint</code>，该接口有一个方法<code>proceed()</code>，相当于调用目标方法，该接口作为环绕通知的方法参数，程序执行时，spring会自动提供实现类。</li>
</ul>
</li>
<li>环绕通知方法定义<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Object 自定义方法名(ProceedingJoinPoint pjp) &#123;</span><br><span class="line">	Object obj = null;</span><br><span class="line">	try&#123;</span><br><span class="line">		// 获取方法执行所需参数</span><br><span class="line">		Object[] args = pjp.getArges();</span><br><span class="line">		// 目标方法前 前置通知</span><br><span class="line">		// 执行目标方法 </span><br><span class="line">		obj = pjp.proceed();</span><br><span class="line">		// 目标方法后 前置通知</span><br><span class="line">		return obj;</span><br><span class="line">	&#125;catch()&#123;</span><br><span class="line">		// 异常通知</span><br><span class="line">	&#125;finally&#123;</span><br><span class="line">		// 最终通知</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="抛出异常通知"><a href="#抛出异常通知" class="headerlink" title="抛出异常通知"></a>抛出异常通知</h5><ul>
<li><code>afterThrowing</code><ul>
<li>应用：包装异常信息</li>
</ul>
</li>
<li>方法抛出异常后执行，如果方法没有抛出异常，无法执行</li>
<li>异常通知方法定义<ul>
<li><code>自定义方法名([JoinPoint jp],[Throwable e])</code></li>
</ul>
</li>
</ul>
<h5 id="最终通知"><a href="#最终通知" class="headerlink" title="最终通知"></a>最终通知</h5><ul>
<li><code>after</code><ul>
<li>应用：清理现场</li>
</ul>
</li>
<li>方法执行完毕后执行，无论方法中是否出现异常</li>
<li>最终通知方法定义<ul>
<li><code>自定义方法名([JoinPoint jp])</code></li>
</ul>
</li>
</ul>
<h1 id="Spring-AOP编程"><a href="#Spring-AOP编程" class="headerlink" title="Spring AOP编程"></a>Spring AOP编程</h1><h2 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h2><h3 id="手动方式"><a href="#手动方式" class="headerlink" title="手动方式"></a>手动方式</h3><ol>
<li>编写目标类</li>
<li>编写通知</li>
<li>手动生成目标类代理对象<ol>
<li>jdk动态代理</li>
<li>cglib</li>
</ol>
</li>
</ol>
<h3 id="半自动方式"><a href="#半自动方式" class="headerlink" title="半自动方式"></a>半自动方式</h3><ol>
<li>编写目标类</li>
<li>编写通知（aop联盟的通知，实现指定接口）</li>
<li>通过配置让spring创建代理对象<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--1 配置目标类--&gt;</span><br><span class="line">&lt;bean id=&quot;userService&quot; class=&quot;an.s4.service.UserServiceImpl&quot;&gt;&lt;/bean&gt;</span><br><span class="line">&lt;!--2 配置切面类--&gt;</span><br><span class="line">&lt;bean id=&quot;myAdvice&quot; class=&quot;an.s4.advice.MyAdvice&quot;&gt;&lt;/bean&gt;</span><br><span class="line">&lt;!--3 配置代理对象--&gt;</span><br><span class="line">&lt;!--使用工厂bean  FactoryBean 底层调用getObject()--&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">    ProxyFactoryBean</span><br><span class="line">        interfaces:确定接口们</span><br><span class="line">        target：确定目标类</span><br><span class="line">        interceptorNames:确定切面类(通知)</span><br><span class="line">        optimize：强制使用cglib</span><br><span class="line">        底层机制：如果目标类有接口:采用jdk</span><br><span class="line">                目标类没有接口:采用cglib</span><br><span class="line">                声明了optimize:强制cglib</span><br><span class="line">--&gt;</span><br><span class="line">&lt;bean id=&quot;proxyService&quot; class=&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">	&lt;property name=&quot;interfaces&quot;&gt;</span><br><span class="line">       	 &lt;array&gt;</span><br><span class="line">   		     &lt;value&gt;an.s4.service.UserService&lt;/value&gt;</span><br><span class="line">        	&lt;/array&gt;</span><br><span class="line">    	&lt;/property&gt;</span><br><span class="line">--&gt;</span><br><span class="line">    &lt;!--数组只有一个值时可以简化--&gt;</span><br><span class="line">    &lt;property name=&quot;interfaces&quot; value=&quot;an.s4.service.UserService&quot;/&gt;</span><br><span class="line">    &lt;property name=&quot;target&quot; ref=&quot;userService&quot;/&gt;</span><br><span class="line">    &lt;!--注意这里写的是value而不是ref 因为interceptorNames类型是String[] 而target是Object--&gt;</span><br><span class="line">    &lt;property name=&quot;interceptorNames&quot; value=&quot;myAdvice&quot;/&gt;</span><br><span class="line">    &lt;!--&lt;property name=&quot;optimize&quot; value=&quot;true&quot;/&gt;--&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="全自动方式"><a href="#全自动方式" class="headerlink" title="全自动方式"></a>全自动方式</h3><ol>
<li>编写目标类</li>
<li>编写通知</li>
<li>配置AOP<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--1 配置目标类--&gt;</span><br><span class="line">&lt;bean id=&quot;userService&quot; class=&quot;an.s5.service.UserServiceImpl&quot;&gt;&lt;/bean&gt;</span><br><span class="line">&lt;!--2 配置切面类--&gt;</span><br><span class="line">&lt;bean id=&quot;myAdvice&quot; class=&quot;an.s5.advice.MyAdvice&quot;&gt;&lt;/bean&gt;</span><br><span class="line">&lt;!--3 配置aop--&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">&lt;aop:config&gt;</span><br><span class="line">    proxy-target-class=&quot;true&quot;:使用cglib代理</span><br><span class="line">    &lt;aop:advisor&gt;</span><br><span class="line">        特殊的切面，只有一个通知 和 一个切入点</span><br><span class="line">        advice-ref 通知引用</span><br><span class="line">        pointcut-ref 切入点引用</span><br><span class="line">--&gt;</span><br><span class="line">&lt;aop:config proxy-target-class=&quot;true&quot;&gt;</span><br><span class="line">  &lt;aop:pointcut id=&quot;pointcutID&quot; expression=&quot;execution(* an.s5.service.*.*(..))&quot;/&gt;</span><br><span class="line">  &lt;aop:advisor advice-ref=&quot;myAdvice&quot; pointcut-ref=&quot;pointcutID&quot;/&gt;</span><br><span class="line">&lt;/aop:config&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="基于经典的SpringAOP"><a href="#基于经典的SpringAOP" class="headerlink" title="基于经典的SpringAOP"></a>基于经典的SpringAOP</h2><ul>
<li>使用aop联盟的通知类型</li>
<li>通知需要实现指定的接口</li>
</ul>
<h2 id="Spring-AspectJ"><a href="#Spring-AspectJ" class="headerlink" title="Spring+AspectJ"></a>Spring+AspectJ</h2><ul>
<li>使用AspectJ的通知类型</li>
</ul>
<h3 id="基于xml的AOP编程"><a href="#基于xml的AOP编程" class="headerlink" title="基于xml的AOP编程"></a>基于xml的AOP编程</h3><ol>
<li>编写目标类</li>
<li><p>编写通知类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class MyAdvice &#123;</span><br><span class="line">		public void myBefore(JoinPoint jp) &#123;</span><br><span class="line">		    System.out.println(&quot;前置通知 :name=&quot;+jp.getSignature().getName());</span><br><span class="line">		&#125;</span><br><span class="line">		public void myAfterReturning(JoinPoint jp,Object obj) &#123;</span><br><span class="line">		    System.out.println(&quot;后置通知 :return=&quot;+obj);</span><br><span class="line">		&#125;</span><br><span class="line">		public Object myAround(ProceedingJoinPoint pjp) throws Throwable &#123;</span><br><span class="line">		    System.out.println(&quot;环绕通知...前&quot;);</span><br><span class="line">		    Object proceed = pjp.proceed();</span><br><span class="line">		    System.out.println(&quot;环绕通知...后&quot;);</span><br><span class="line">		    return proceed;</span><br><span class="line">		&#125;</span><br><span class="line">		public void myAfterThrowning() &#123;</span><br><span class="line">		    System.out.println(&quot;异常通知&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		public void myAfter() &#123;</span><br><span class="line">		    System.out.println(&quot;最终通知&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置aop织入通知</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--配置目标类--&gt;</span><br><span class="line">&lt;bean id=&quot;userService&quot; class=&quot;an.s6.service.UserServiceImpl&quot;&gt;&lt;/bean&gt;</span><br><span class="line">&lt;!--配置通知类--&gt;</span><br><span class="line">&lt;bean id=&quot;myAdvice&quot; class=&quot;an.s6.advice.MyAdvice&quot;&gt;&lt;/bean&gt;</span><br><span class="line">&lt;!--aop配置--&gt;</span><br><span class="line">&lt;aop:config&gt;</span><br><span class="line">    &lt;aop:aspect id=&quot;aspectID&quot; ref=&quot;myAdvice&quot;&gt;</span><br><span class="line">        &lt;aop:pointcut id=&quot;pontcutID&quot; expression=&quot;execution(* an.s6.service.*.*(..))&quot;&gt;&lt;/aop:pointcut&gt;</span><br><span class="line">        &lt;aop:before method=&quot;myBefore&quot; pointcut-ref=&quot;pontcutID&quot;/&gt;</span><br><span class="line">        &lt;aop:after-returning method=&quot;myAfterReturning&quot; pointcut-ref=&quot;pontcutID&quot; returning=&quot;obj&quot;/&gt;</span><br><span class="line">        &lt;aop:around method=&quot;myAround&quot; pointcut-ref=&quot;pontcutID&quot;/&gt;</span><br><span class="line">        &lt;aop:after-throwing method=&quot;myAfterThrowning&quot; pointcut-ref=&quot;pontcutID&quot;/&gt;</span><br><span class="line">        &lt;aop:after method=&quot;myAfter&quot; pointcut-ref=&quot;pontcutID&quot;/&gt;</span><br><span class="line">    &lt;/aop:aspect&gt;</span><br><span class="line">&lt;/aop:config&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;aop:aspect&gt;</code><ul>
<li>用于配置切面</li>
</ul>
</li>
<li><code>&lt;aop:pointcut&gt;</code><ul>
<li>配置切入点</li>
<li>如果此标签在<code>&lt;/aop:config&gt;</code>下与<code>&lt;aop:aspect&gt;</code>平级<ul>
<li>则必须写在<code>&lt;aop:aspect&gt;</code>之前，且多个<code>&lt;aop:aspect&gt;</code>中都可以使用</li>
</ul>
</li>
<li>如果在<code>&lt;aop:aspect&gt;</code>下<ul>
<li>则只能当前<code>&lt;aop:aspect&gt;</code>使用</li>
</ul>
</li>
</ul>
</li>
<li><code>&lt;aop:after-returning&gt;</code><ul>
<li>如果定义的后置通知方法有第二个参数<code>Object xxx</code>,则需配置<code>returning=&quot;xxx&quot;</code></li>
</ul>
</li>
<li><code>&lt;aop:after-throwing&gt;</code><ul>
<li>如果定义的异常通知方法有第二个参数<code>Throwable xxx</code>,则需配置<code>throw=&quot;xxx&quot;</code></li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="基于注解的AOP编程"><a href="#基于注解的AOP编程" class="headerlink" title="基于注解的AOP编程"></a>基于注解的AOP编程</h3><ol>
<li>手动编写目标类</li>
<li>手动使用注解编写通知类，并织入<ul>
<li>类<ul>
<li><code>@Aspect</code><ul>
<li>声明切面</li>
</ul>
</li>
</ul>
</li>
<li>方法<ul>
<li><code>@PointCut</code><ul>
<li>相当于声明了一个切入点，id是方法名</li>
<li>在其它通知方法上<ul>
<li><code>@Xxx(&quot;execution(表达式)&quot;)</code><ul>
<li>相当于使用一个自己定义的切入点表达式</li>
</ul>
</li>
<li><code>@Xxx(value=&quot;声明切入点的方法名（方法带括号）&quot;)</code><ul>
<li>相当于引入一个切入点</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>@Before</code></li>
<li><code>@AfterReturning</code><ul>
<li><code>returning=&quot;第二个参数Object xxx&quot;</code></li>
</ul>
</li>
<li><code>@Around</code></li>
<li><code>@AfterThrowing</code><ul>
<li><code>throwing=&quot;第二个参数Throwable xxx&quot;</code></li>
</ul>
</li>
<li><code>@After</code></li>
</ul>
</li>
</ul>
</li>
<li>开启aop注解<ol>
<li><code>&lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt;</code></li>
<li><code>@EnableAspectJAutoProxy</code><ul>
<li>配置在注解配置类上（带<code>@Configuraction</code>的）</li>
</ul>
</li>
</ol>
</li>
</ol>
<h1 id="JDBC-Template"><a href="#JDBC-Template" class="headerlink" title="JDBC Template"></a>JDBC Template</h1><ul>
<li>spring 提供用于操作JDBC工具类，类似：DBUtils。</li>
<li>依赖<ul>
<li>DataSource （数据源）</li>
</ul>
</li>
</ul>
<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h2><h3 id="手动创建方式-了解"><a href="#手动创建方式-了解" class="headerlink" title="手动创建方式 (了解)"></a>手动创建方式 (了解)</h3><ol>
<li>创建数据源<ul>
<li><code>DriverManagerDataSource</code><ul>
<li>spring内置数据源</li>
</ul>
</li>
<li><code>ComboPooledDataSource</code><ul>
<li>c3p0数据源</li>
</ul>
</li>
<li><code>BasicDataSource</code><ul>
<li>dbcp数据源</li>
</ul>
</li>
</ul>
</li>
<li>创建JdbcTemplate，并设置数据源（构造/set方法）<ul>
<li><code>JdbcTemplate jdbcTemplate=new JdbcTemplate(dataSource);</code></li>
</ul>
</li>
<li>使用jdbcTemplate操作 </li>
</ol>
<h3 id="spring-ioc之JdbcTemplate"><a href="#spring-ioc之JdbcTemplate" class="headerlink" title="spring ioc之JdbcTemplate"></a>spring ioc之JdbcTemplate</h3><ul>
<li>xml或注解配置使用</li>
</ul>
<ol>
<li>创建dao 并持有JdbcTemplate</li>
<li>spring配置 <ol>
<li>配置数据源bean</li>
<li>配置JdbcTemplate bean，并注入数据源</li>
<li>配置dao bean，并注入JdbcTemplate bean</li>
</ol>
</li>
<li>dao中直接使用JdbcTemplate操作</li>
</ol>
<h3 id="spring-ioc之-JdbcDaoSupport"><a href="#spring-ioc之-JdbcDaoSupport" class="headerlink" title="spring ioc之 JdbcDaoSupport"></a>spring ioc之 JdbcDaoSupport</h3><ul>
<li>xml配置使用</li>
</ul>
<ol>
<li><p>创建dao 继承<code>JdbcDaoSupport</code></p>
<ul>
<li><p>JdbcDaoSupport</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">JdbcTemplate getJdbcTemplate()&#123;&#125;</span><br><span class="line">void setDataSource(DataSource dataSource)&#123;</span><br><span class="line">	if (jdbcTemplate == null) &#123;</span><br><span class="line">		jdbcTemplate = createJdbcTemplate(DataSource dataSource);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">JdbcTemplate createJdbcTemplate(DataSource dataSource)&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>只要给dao注入了数据源，就可以创建JdbcTemplate</p>
</li>
</ul>
</li>
<li>spring配置<ol>
<li>配置数据源bean</li>
<li>配置dao bean，并注入数据源</li>
</ol>
</li>
<li>dao中直接使用<code>getJdbcTemplate()</code>获取JdbcTemplate进行操作</li>
</ol>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="增删改"><a href="#增删改" class="headerlink" title="增删改"></a>增删改</h3><ul>
<li><code>int update(String sql, Object... obj)</code></li>
</ul>
<h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><ul>
<li><code>List&lt;T&gt; query(String sql, RowMapper&lt;T&gt; rowMapper, Object... obj)</code><ul>
<li>查询结果封装为javabean对象，然后封装到list集合</li>
<li>查询所有</li>
<li>查询一个，集合中只有一个获取即可。</li>
</ul>
</li>
<li><code>T queryForObject(String sql, Class&lt;T&gt; requiredType, Object... obj)</code><ul>
<li>查询一行一列</li>
<li>一般用于聚合函数的查询</li>
</ul>
</li>
<li><code>Map&lt;String, Object&gt; queryForMap(String sql, Object... obj)</code><ul>
<li>查询的结果集封装为map集合</li>
<li>此方法查询结果集长度只能是1<ul>
<li>列名为key，列值为value</li>
</ul>
</li>
</ul>
</li>
<li><code>List&lt;Map&lt;String, Object&gt;&gt; queryForList(String sql, Object... obj)</code><ul>
<li>将每一条记录封装为map集合，然后将map集合封装到list集合中</li>
</ul>
</li>
</ul>
<h4 id="RowMapper"><a href="#RowMapper" class="headerlink" title="RowMapper"></a>RowMapper</h4><ul>
<li>类似于DBUtils的ResultSetHandler</li>
<li>可以自己实现，也可使用spring提供的</li>
</ul>
<h5 id="API-1"><a href="#API-1" class="headerlink" title="API"></a>API</h5><ul>
<li><code>T mapRow(ResultSet rs, int rowNum)</code></li>
</ul>
<h5 id="Spring提供的RowMapper实现"><a href="#Spring提供的RowMapper实现" class="headerlink" title="Spring提供的RowMapper实现"></a>Spring提供的RowMapper实现</h5><h6 id="BeanPropertyRowMapper"><a href="#BeanPropertyRowMapper" class="headerlink" title="BeanPropertyRowMapper"></a>BeanPropertyRowMapper</h6><ul>
<li>将结果集封装为对象</li>
</ul>
<h1 id="事务管理"><a href="#事务管理" class="headerlink" title="事务管理"></a>事务管理</h1><h2 id="三个顶级接口"><a href="#三个顶级接口" class="headerlink" title="三个顶级接口"></a>三个顶级接口</h2><h3 id="PlatformTransactionManager"><a href="#PlatformTransactionManager" class="headerlink" title="PlatformTransactionManager"></a>PlatformTransactionManager</h3><h4 id="概述-4"><a href="#概述-4" class="headerlink" title="概述"></a>概述</h4><ul>
<li>平台事务管理器 <code>spring-tx.jar</code>中</li>
<li>因为不同平台，操作事务的代码各不相同，spring提供了此接口</li>
<li>spring要管理事务，必须使用事务管理器</li>
</ul>
<h4 id="API-2"><a href="#API-2" class="headerlink" title="API"></a>API</h4><ul>
<li><code>TransactionStatus getTransaction(TransactionDefinition definition)</code><ul>
<li>事务管理器 通过“事务详情”，获得“事务状态”，从而管理事务。</li>
</ul>
</li>
<li><code>void commit(TransactionStatus status)</code><ul>
<li>根据状态提交</li>
</ul>
</li>
<li><code>void rollback(TransactionStatus status)</code><ul>
<li>根据状态回滚</li>
</ul>
</li>
</ul>
<h4 id="事务管理器（实现）"><a href="#事务管理器（实现）" class="headerlink" title="事务管理器（实现）"></a>事务管理器（实现）</h4><h5 id="DataSourceTransactionManager"><a href="#DataSourceTransactionManager" class="headerlink" title="DataSourceTransactionManager"></a>DataSourceTransactionManager</h5><ul>
<li>jdbc开发时事务管理器，采用JdbcTemplate</li>
<li>在<code>spring-jdbc.jar</code>中</li>
</ul>
<h5 id="HibernateTransactionManager"><a href="#HibernateTransactionManager" class="headerlink" title="HibernateTransactionManager"></a>HibernateTransactionManager</h5><ul>
<li>hibernate开发时事务管理器，整合hibernate时用</li>
<li>在<code>spring-orm.jar</code>中</li>
</ul>
<h3 id="TransactionDefinition"><a href="#TransactionDefinition" class="headerlink" title="TransactionDefinition"></a>TransactionDefinition</h3><h4 id="概述-5"><a href="#概述-5" class="headerlink" title="概述"></a>概述</h4><ul>
<li>事务详情（事务定义、事务属性）</li>
<li>spring用于确定事务具体详情<ul>
<li>例如：隔离级别、是否只读、超时时间 等</li>
</ul>
</li>
<li>进行事务配置时，必须配置详情。spring将配置项封装到该对象实例</li>
</ul>
<h4 id="API-3"><a href="#API-3" class="headerlink" title="API"></a>API</h4><ul>
<li><code>getPropagationBehavior()</code><ul>
<li>获取传播行为</li>
<li>传播行为：在两个业务之间如何共享事务。</li>
</ul>
</li>
<li><code>getName()</code><ul>
<li>配置事务详情名称</li>
</ul>
</li>
<li><code>isReadOnly()</code><ul>
<li>是否只读(增删改：读写，查：只读)</li>
<li>默认非只读</li>
</ul>
</li>
<li><code>getTimeout()</code><ul>
<li>获取超时时间。</li>
</ul>
</li>
<li><code>getIsolationlevel()</code><ul>
<li>获取隔离级别</li>
<li>隔离级别<ul>
<li>0 1 2 4 8</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="传播行为"><a href="#传播行为" class="headerlink" title="传播行为"></a>传播行为</h4><h5 id="概述-6"><a href="#概述-6" class="headerlink" title="概述"></a>概述</h5><ul>
<li>如果在开始当前事务之前，一个事务上下文已经存在，此时有若干选项可以指定一个事务性方法的执行行为</li>
</ul>
<h5 id="分类-2"><a href="#分类-2" class="headerlink" title="分类"></a>分类</h5><ul>
<li><strong>PROPAGATION_REQUIRED</strong> (required 必须)(默认值)<ul>
<li>支持当前事务<ul>
<li>如果A有事务，B将使用该事务。</li>
<li>如果A没有事务，B将创建一个新的事务。</li>
</ul>
</li>
</ul>
</li>
<li>PROPAGATION_SUPPORTS (supports 支持)<ul>
<li>支持当前事务<ul>
<li>如果A有事务，B将使用该事务。</li>
<li>如果A没有事务，B将以非事务执行。</li>
</ul>
</li>
</ul>
</li>
<li>PROPAGATION_MANDATORY (mandatory 强制)<ul>
<li>支持当前事务<ul>
<li>如果A有事务，B将使用该事务。</li>
<li>如果A没有事务，B将抛异常</li>
</ul>
</li>
</ul>
</li>
<li><strong>PROPAGATION_REQUIRES_NEW</strong> (requires_new 必须新的)<ul>
<li>如果A有事务，将A的事务挂起，B创建一个新的事务</li>
<li>如果A没有事务，B创建一个新的事务</li>
</ul>
</li>
<li>PROPAGATION_NOT_SUPPORTED (not_supported 不支持)<ul>
<li>如果A有事务，将A的事务挂起，B将以非事务执行</li>
<li>如果A没有事务，B将以非事务执行</li>
</ul>
</li>
<li>PROPAGATION_NEVER (never 从不)<ul>
<li>如果A有事务，B将抛异常</li>
<li>如果A没有事务，B将以非事务执行</li>
</ul>
</li>
<li><strong>PROPAGATION_NESTED</strong> (nested 嵌套)<ul>
<li>A和B底层采用保存点机制，形成嵌套事务。</li>
</ul>
</li>
</ul>
<h4 id="隔离级别"><a href="#隔离级别" class="headerlink" title="隔离级别"></a>隔离级别</h4><ul>
<li><code>ISOLATION_DEFAULT</code><ul>
<li>默认</li>
<li>表示底层使用数据库的默认隔离级别</li>
</ul>
</li>
<li><code>ISOLATION_READ_UNCOMMITTED</code></li>
<li><code>ISOLATION_READ_COMMITTED</code></li>
<li><code>ISOLATION_REPEATABLE_READ</code></li>
<li><code>ISOLATION_SERIALIZABLE</code></li>
</ul>
<h3 id="TransactionStatus"><a href="#TransactionStatus" class="headerlink" title="TransactionStatus"></a>TransactionStatus</h3><h4 id="概述-7"><a href="#概述-7" class="headerlink" title="概述"></a>概述</h4><ul>
<li>事务状态，spring用于记录当前事务运行状态。<ul>
<li>例如：是否有保存点，事务是否完成。</li>
</ul>
</li>
<li>spring底层根据状态进行相应操作。</li>
</ul>
<h4 id="API-4"><a href="#API-4" class="headerlink" title="API"></a>API</h4><ul>
<li><code>isNewtransaction()</code><ul>
<li>是否是新的事务</li>
</ul>
</li>
<li><code>hasSavepoint()</code></li>
<li><code>setRollbackOnly()</code></li>
<li><code>isRollbackOnly()</code></li>
<li><code>flush()</code></li>
<li><code>isCompleted()</code></li>
</ul>
<h2 id="事务管理详解"><a href="#事务管理详解" class="headerlink" title="事务管理详解"></a>事务管理详解</h2><h3 id="概述-8"><a href="#概述-8" class="headerlink" title="概述"></a>概述</h3><ul>
<li>spirng底层使用TransactionTemplate模板管理事务。<ul>
<li>模板需要注入事务管理器</li>
<li>事务管理器需要事务</li>
<li>事务从Connection获得</li>
<li>Connection不管直接创建还是从连接池中获得都需要数据源</li>
<li>所以事务管理器需要注入数据源DataSource</li>
</ul>
</li>
</ul>
<h3 id="手动管理事务-了解"><a href="#手动管理事务-了解" class="headerlink" title="手动管理事务(了解)"></a>手动管理事务(了解)</h3><ol>
<li>配置TransactionTemplate，并注入Service中</li>
<li>配置事务管理器，并注入到TransactionTemplate中</li>
<li>Service中业务方法中使用事务模板操作<ul>
<li><code>transactionTemplate.execute();</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">transactionTemplate.execute(new TransactionCallbackWithoutResult() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    protected void doInTransactionWithoutResult(TransactionStatus transactionStatus) &#123;</span><br><span class="line">        accountDao.raise(to, money);</span><br><span class="line">        int i = 1/0;</span><br><span class="line">        accountDao.reduce(from, money);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="半自动管理事务"><a href="#半自动管理事务" class="headerlink" title="半自动管理事务"></a>半自动管理事务</h3><ol>
<li>使用工厂bean生成代理</li>
<li>为代理对象注入事务管理器及事务详情</li>
<li>使用代理对象执行业务方法</li>
</ol>
<h4 id="TransactionProxyFactoryBean"><a href="#TransactionProxyFactoryBean" class="headerlink" title="TransactionProxyFactoryBean"></a>TransactionProxyFactoryBean</h4><ul>
<li>spring提供 管理事务的代理工厂bean<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 4 service 代理对象 </span><br><span class="line">	4.1 proxyInterfaces 接口 </span><br><span class="line">	4.2 target 目标类</span><br><span class="line">	4.3 transactionManager 事务管理器</span><br><span class="line">	4.4 transactionAttributes 事务属性（事务详情）</span><br><span class="line">		prop.key ：确定哪些方法使用当前事务配置</span><br><span class="line">		prop.text:用于配置事务详情</span><br><span class="line">			格式：PROPAGATION,ISOLATION,readOnly,-Exception,+Exception</span><br><span class="line">				传播行为		隔离级别	是否只读		异常回滚		异常提交</span><br><span class="line">			例如：</span><br><span class="line">				&lt;prop key=&quot;save&quot;&gt;PROPAGATION_REQUIRED,ISOLATION_DEFAULT&lt;/prop&gt; 默认传播行为，和隔离级别</span><br><span class="line">				&lt;prop key=&quot;add&quot;&gt;PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly&lt;/prop&gt; 只读</span><br><span class="line">				&lt;prop key=&quot;add&quot;&gt;PROPAGATION_REQUIRED,ISOLATION_DEFAULT,+java.lang.ArithmeticException&lt;/prop&gt;  有异常扔提交</span><br><span class="line">--&gt;</span><br><span class="line">&lt;bean id=&quot;proxyAccountService&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;proxyInterfaces&quot; value=&quot;com.itheima.service.AccountService&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;property name=&quot;target&quot; ref=&quot;accountService&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;property name=&quot;transactionManager&quot; ref=&quot;txManager&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;property name=&quot;transactionAttributes&quot;&gt;</span><br><span class="line">		&lt;props&gt;</span><br><span class="line">			&lt;prop key=&quot;方法名&quot;&gt;PROPAGATION_REQUIRED,ISOLATION_DEFAULT&lt;/prop&gt;</span><br><span class="line">		&lt;/props&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="自动管理事务"><a href="#自动管理事务" class="headerlink" title="自动管理事务"></a>自动管理事务</h3><ol>
<li>spring配置aop自动生成代理，进行事务管理</li>
<li>Aop从连接点中选出切入点</li>
<li>TxAdvice从切入点中再次筛选，确定哪些方法需要什么样的事务</li>
</ol>
<h4 id="Aop配置事务基于xml"><a href="#Aop配置事务基于xml" class="headerlink" title="Aop配置事务基于xml"></a>Aop配置事务基于xml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--事务管理器--&gt;</span><br><span class="line">&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;!--事务详情--&gt;&lt;!--对什么方法使用什么样的事务 readOnly默认false--&gt;</span><br><span class="line">&lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;txManager&quot;&gt;</span><br><span class="line">    &lt;tx:attributes&gt;</span><br><span class="line">        &lt;tx:method name=&quot;transfer&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;DEFAULT&quot; readOnly=&quot;false&quot;/&gt;</span><br><span class="line">    &lt;/tx:attributes&gt;</span><br><span class="line">&lt;/tx:advice&gt;</span><br><span class="line">&lt;!--aop配置--&gt;</span><br><span class="line">&lt;aop:config&gt;</span><br><span class="line">    &lt;aop:pointcut id=&quot;pointcutID&quot; expression=&quot;execution(* an.s8.service.*.*(..))&quot;/&gt;</span><br><span class="line">    &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;pointcutID&quot;/&gt;</span><br><span class="line">&lt;/aop:config&gt;</span><br></pre></td></tr></table></figure>
<h4 id="Aop配置事务基于注解"><a href="#Aop配置事务基于注解" class="headerlink" title="Aop配置事务基于注解"></a>Aop配置事务基于注解</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 事务管理器 --&gt;</span><br><span class="line">&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;</span><br><span class="line">	&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;!-- 将事务管理器交予spring --&gt;</span><br><span class="line">&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot;/&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>@Transactional</code><ul>
<li>事务详情的配置在注解的括号里</li>
<li>用在类上<ul>
<li>所有方法都开事务</li>
</ul>
</li>
<li>用在方法上<ul>
<li>此方法开事务</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="spring整合junit"><a href="#spring整合junit" class="headerlink" title="spring整合junit"></a>spring整合junit</h1><h2 id="jar包"><a href="#jar包" class="headerlink" title="jar包"></a>jar包</h2><ul>
<li><code>junti的jar包</code></li>
<li><code>spring核心4+1</code></li>
<li><code>spring-test.jar</code></li>
</ul>
<h2 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h2><ul>
<li>与junit整合,不需要在spring配置中配置扫描</li>
</ul>
<h3 id="RunWith-SpringJunit4ClassRunner-class"><a href="#RunWith-SpringJunit4ClassRunner-class" class="headerlink" title="@RunWith(SpringJunit4ClassRunner.class)"></a>@RunWith(SpringJunit4ClassRunner.class)</h3><ul>
<li>在类上</li>
<li>替换原有运行器</li>
</ul>
<h3 id="ContextConfiguration"><a href="#ContextConfiguration" class="headerlink" title="@ContextConfiguration"></a>@ContextConfiguration</h3><ul>
<li><code>location</code><ul>
<li>指定spring配置文件的位置，类路径要加<code>classpath:</code></li>
</ul>
</li>
<li><code>classes</code><ul>
<li>用于指定注解的配置类。当不使用 xml 配置时，需要用此属性指定注解类的位置</li>
</ul>
</li>
</ul>
<h3 id="Autowired-1"><a href="#Autowired-1" class="headerlink" title="@Autowired"></a>@Autowired</h3><ul>
<li>注入数据</li>
</ul>
<h1 id="spring整合web"><a href="#spring整合web" class="headerlink" title="spring整合web"></a>spring整合web</h1><h2 id="概述-9"><a href="#概述-9" class="headerlink" title="概述"></a>概述</h2><ul>
<li>普通java项目<ul>
<li>我们手动读取spring配置，创建spring容器。</li>
</ul>
</li>
<li>web项目<ul>
<li>服务器启动就创建spring容器。(安)</li>
</ul>
</li>
</ul>
<h2 id="web技术之服务器-tomcat-一启动就加载配置文件的方式"><a href="#web技术之服务器-tomcat-一启动就加载配置文件的方式" class="headerlink" title="web技术之服务器(tomcat)一启动就加载配置文件的方式"></a>web技术之服务器(tomcat)一启动就加载配置文件的方式</h2><ol>
<li>Servlet<ul>
<li><code>init(ServletConfig config)</code><ul>
<li><code>&lt;load-on-startup&gt;</code></li>
</ul>
</li>
</ul>
</li>
<li>Filter<ul>
<li><code>init(FilterConfig config)</code><ul>
<li><code>web.xml</code>注册过滤器自动调用初始化</li>
</ul>
</li>
</ul>
</li>
<li>Listener<ul>
<li><code>ServletContextListener</code><ul>
<li><code>web.xml</code>中配置监听器</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li>spring使用的是<strong>Listener</strong><ul>
<li>spring提供了<code>ContextLoaderListener</code>监听器<ul>
<li><code>spring-web.jar</code>中</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="spring监听器的配置"><a href="#spring监听器的配置" class="headerlink" title="spring监听器的配置"></a>spring监听器的配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;listener&gt;</span><br><span class="line">    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</span><br><span class="line">&lt;/listener&gt;</span><br><span class="line">&lt;context-param&gt;</span><br><span class="line">	&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span><br><span class="line">	&lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;</span><br><span class="line">&lt;/context-param&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>此监听器默认加载的是<code>WEB-INF/applicationContext.xml</code></li>
<li>而我们的配置文件通常在src下即<code>WEB-INF/classes/applicationContext.cml</code></li>
<li>通过配置参数指定配置文件</li>
</ul>
<h2 id="手动获取spring容器"><a href="#手动获取spring容器" class="headerlink" title="手动获取spring容器"></a>手动获取spring容器</h2><ul>
<li>一般一个应用中只有一份spring容器放在ServletContext域中</li>
</ul>
<ol>
<li>从application域中根据key获取容器,spring把key封装成了一个常量<code>ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE</code><br> <code>this.getServletContext().getAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE);</code></li>
<li>通过工具类（WebApplicationContextUtils）获取，其实是封装了方法一<ul>
<li><code>WebApplicationContextUtils.getWebApplicationContext(this.getServletContext());</code></li>
</ul>
</li>
</ol>

      
    </div>

    

    
    
    

    <div>
      
	<div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------The End<i class="fa fa-paw"></i>客官请自便-------------</div>
    
</div
      
    </div>

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/11/xd-Hibernate/" rel="next" title="xd-Hibernate">
                <i class="fa fa-chevron-left"></i> xd-Hibernate
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/11/xd-SpringMVC/" rel="prev" title="xd-SpringMVC">
                xd-SpringMVC <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://github.com/awcnoanswer/myPicture/raw/master/headPic/swk.png"
                alt="安₃" />
            
              <p class="site-author-name" itemprop="name">安₃</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">59</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#概述"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#下载"><span class="nav-number">1.1.</span> <span class="nav-text">下载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#耦合"><span class="nav-number">1.2.</span> <span class="nav-text">耦合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#书籍"><span class="nav-number">1.3.</span> <span class="nav-text">书籍</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#体系结构"><span class="nav-number">2.</span> <span class="nav-text">体系结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Core-Container-核心容器"><span class="nav-number">2.1.</span> <span class="nav-text">Core Container(核心容器)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Beans"><span class="nav-number">2.1.1.</span> <span class="nav-text">Beans</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Core"><span class="nav-number">2.1.2.</span> <span class="nav-text">Core</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Context"><span class="nav-number">2.1.3.</span> <span class="nav-text">Context</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Expression-Language"><span class="nav-number">2.1.4.</span> <span class="nav-text">Expression Language</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Messaging"><span class="nav-number">2.1.5.</span> <span class="nav-text">Messaging</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Aop-Aspect-Oriented-Programming"><span class="nav-number">2.2.</span> <span class="nav-text">Aop(Aspect Oriented Programming)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AOP"><span class="nav-number">2.2.1.</span> <span class="nav-text">AOP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Aspects"><span class="nav-number">2.2.2.</span> <span class="nav-text">Aspects</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Instrumentation"><span class="nav-number">2.2.3.</span> <span class="nav-text">Instrumentation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Access-Integration"><span class="nav-number">2.3.</span> <span class="nav-text">Data Access/Integration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JDBC"><span class="nav-number">2.3.1.</span> <span class="nav-text">JDBC</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ORM"><span class="nav-number">2.3.2.</span> <span class="nav-text">ORM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OXM"><span class="nav-number">2.3.3.</span> <span class="nav-text">OXM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JMS"><span class="nav-number">2.3.4.</span> <span class="nav-text">JMS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Transactions"><span class="nav-number">2.3.5.</span> <span class="nav-text">Transactions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web-MVC-Remoting"><span class="nav-number">2.4.</span> <span class="nav-text">Web(MVC/Remoting)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Web"><span class="nav-number">2.4.1.</span> <span class="nav-text">Web</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Servlet"><span class="nav-number">2.4.2.</span> <span class="nav-text">Servlet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Portlet"><span class="nav-number">2.4.3.</span> <span class="nav-text">Portlet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WebSocket"><span class="nav-number">2.4.4.</span> <span class="nav-text">WebSocket</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#struts"><span class="nav-number">2.4.5.</span> <span class="nav-text">struts</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Test"><span class="nav-number">2.5.</span> <span class="nav-text">Test</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Jar包"><span class="nav-number">3.</span> <span class="nav-text">Jar包</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Core-1"><span class="nav-number">3.1.</span> <span class="nav-text">Core</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Aop"><span class="nav-number">3.2.</span> <span class="nav-text">Aop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#data-access"><span class="nav-number">3.3.</span> <span class="nav-text">data access</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#web"><span class="nav-number">3.4.</span> <span class="nav-text">web</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#test"><span class="nav-number">3.5.</span> <span class="nav-text">test</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#support"><span class="nav-number">3.6.</span> <span class="nav-text">support</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#配置"><span class="nav-number">4.</span> <span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#核心监听器"><span class="nav-number">4.1.</span> <span class="nav-text">核心监听器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#核心配置"><span class="nav-number">4.2.</span> <span class="nav-text">核心配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#核心API-了解"><span class="nav-number">5.</span> <span class="nav-text">核心API(了解)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#体系"><span class="nav-number">5.1.</span> <span class="nav-text">体系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BeanFactory"><span class="nav-number">5.2.</span> <span class="nav-text">BeanFactory</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ApplicationContext"><span class="nav-number">5.3.</span> <span class="nav-text">ApplicationContext</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ClassPathXmlApplicationContext"><span class="nav-number">5.4.</span> <span class="nav-text">ClassPathXmlApplicationContext</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FileSystemXmlApplicaitonContext"><span class="nav-number">5.5.</span> <span class="nav-text">FileSystemXmlApplicaitonContext</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AnnotationConfigApplicationContext"><span class="nav-number">5.6.</span> <span class="nav-text">AnnotationConfigApplicationContext</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IOC（Inversion-of-Control）"><span class="nav-number">6.</span> <span class="nav-text">IOC（Inversion of Control）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#作用"><span class="nav-number">6.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现策略"><span class="nav-number">6.2.</span> <span class="nav-text">实现策略</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DI"><span class="nav-number">6.3.</span> <span class="nav-text">DI</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Bean基于xml"><span class="nav-number">7.</span> <span class="nav-text">Bean基于xml</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean实例化方式"><span class="nav-number">7.1.</span> <span class="nav-text">Bean实例化方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#默认构造"><span class="nav-number">7.1.1.</span> <span class="nav-text">默认构造</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#静态工厂"><span class="nav-number">7.1.2.</span> <span class="nav-text">静态工厂</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例工厂"><span class="nav-number">7.1.3.</span> <span class="nav-text">实例工厂</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean作用域"><span class="nav-number">7.2.</span> <span class="nav-text">Bean作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#scope"><span class="nav-number">7.2.1.</span> <span class="nav-text">scope</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean生命周期"><span class="nav-number">7.3.</span> <span class="nav-text">Bean生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#单例Bean"><span class="nav-number">7.3.1.</span> <span class="nav-text">单例Bean</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多例Bean"><span class="nav-number">7.3.2.</span> <span class="nav-text">多例Bean</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BeanPostProcessor-后处理Bean"><span class="nav-number">7.3.3.</span> <span class="nav-text">BeanPostProcessor (后处理Bean)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#特点"><span class="nav-number">7.3.3.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用"><span class="nav-number">7.3.3.2.</span> <span class="nav-text">使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#类A的创建初始化→目标方法→销毁过程"><span class="nav-number">7.3.3.3.</span> <span class="nav-text">类A的创建初始化→目标方法→销毁过程</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Bean基于注解"><span class="nav-number">8.</span> <span class="nav-text">Bean基于注解</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean实例化"><span class="nav-number">8.1.</span> <span class="nav-text">Bean实例化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#说明"><span class="nav-number">8.1.1.</span> <span class="nav-text">说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实例化注解"><span class="nav-number">8.1.2.</span> <span class="nav-text">实例化注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#作用域"><span class="nav-number">8.1.3.</span> <span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生命周期"><span class="nav-number">8.1.4.</span> <span class="nav-text">生命周期</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#依赖注入"><span class="nav-number">9.</span> <span class="nav-text">依赖注入</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#注入的数据类型"><span class="nav-number">9.1.</span> <span class="nav-text">注入的数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数组-集合的注入"><span class="nav-number">9.1.1.</span> <span class="nav-text">数组/集合的注入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#数组"><span class="nav-number">9.1.1.1.</span> <span class="nav-text">数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#List"><span class="nav-number">9.1.1.2.</span> <span class="nav-text">List</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Set"><span class="nav-number">9.1.1.3.</span> <span class="nav-text">Set</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Map"><span class="nav-number">9.1.1.4.</span> <span class="nav-text">Map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Properties"><span class="nav-number">9.1.1.5.</span> <span class="nav-text">Properties</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注入方式"><span class="nav-number">9.2.</span> <span class="nav-text">注入方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基于xml注入"><span class="nav-number">9.2.1.</span> <span class="nav-text">基于xml注入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#构造方法"><span class="nav-number">9.2.1.1.</span> <span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#set方法"><span class="nav-number">9.2.1.2.</span> <span class="nav-text">set方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#P命名空间-了解"><span class="nav-number">9.2.1.3.</span> <span class="nav-text">P命名空间(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SpEL-了解"><span class="nav-number">9.2.1.4.</span> <span class="nav-text">SpEL(了解)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于注解注入"><span class="nav-number">9.2.2.</span> <span class="nav-text">基于注解注入</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Value-value-”值-spEL”"><span class="nav-number">9.2.2.1.</span> <span class="nav-text">@Value(value=”值/spEL”)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Autowired"><span class="nav-number">9.2.2.2.</span> <span class="nav-text">@Autowired</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Qualifier-value-”beanId”"><span class="nav-number">9.2.2.3.</span> <span class="nav-text">@Qualifier(value=”beanId”)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Resource-name-”beanId”"><span class="nav-number">9.2.2.4.</span> <span class="nav-text">@Resource(name=”beanId”)</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#新注解"><span class="nav-number">10.</span> <span class="nav-text">新注解</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-1"><span class="nav-number">10.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Configuration"><span class="nav-number">10.2.</span> <span class="nav-text">@Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作用-1"><span class="nav-number">10.2.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性"><span class="nav-number">10.2.2.</span> <span class="nav-text">属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ComponentScan"><span class="nav-number">10.3.</span> <span class="nav-text">@ComponentScan</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作用-2"><span class="nav-number">10.3.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性-1"><span class="nav-number">10.3.2.</span> <span class="nav-text">属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean"><span class="nav-number">10.4.</span> <span class="nav-text">@Bean</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作用-3"><span class="nav-number">10.4.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性-2"><span class="nav-number">10.4.2.</span> <span class="nav-text">属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PropertySource"><span class="nav-number">10.5.</span> <span class="nav-text">@PropertySource</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作用-4"><span class="nav-number">10.5.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性-3"><span class="nav-number">10.5.2.</span> <span class="nav-text">属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Import"><span class="nav-number">10.6.</span> <span class="nav-text">@Import</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作用-5"><span class="nav-number">10.6.1.</span> <span class="nav-text">作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#属性-4"><span class="nav-number">10.6.2.</span> <span class="nav-text">属性</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#AOP-1"><span class="nav-number">11.</span> <span class="nav-text">AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-2"><span class="nav-number">11.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AOP的实现框架"><span class="nav-number">11.2.</span> <span class="nav-text">AOP的实现框架</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AspectJ"><span class="nav-number">11.2.1.</span> <span class="nav-text">AspectJ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spring-AOP"><span class="nav-number">11.2.2.</span> <span class="nav-text">Spring-AOP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AspectJ-amp-Spring-AOP"><span class="nav-number">11.3.</span> <span class="nav-text">AspectJ &amp; Spring-AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#目的"><span class="nav-number">11.3.1.</span> <span class="nav-text">目的</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#功能"><span class="nav-number">11.3.2.</span> <span class="nav-text">功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#注解"><span class="nav-number">11.3.3.</span> <span class="nav-text">注解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AOP使用"><span class="nav-number">11.4.</span> <span class="nav-text">AOP使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#开发阶段（程序员）"><span class="nav-number">11.4.1.</span> <span class="nav-text">开发阶段（程序员）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运行阶段（Spring）"><span class="nav-number">11.4.2.</span> <span class="nav-text">运行阶段（Spring）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AOP术语"><span class="nav-number">11.5.</span> <span class="nav-text">AOP术语</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Target"><span class="nav-number">11.5.1.</span> <span class="nav-text">Target</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Joinpoint"><span class="nav-number">11.5.2.</span> <span class="nav-text">Joinpoint</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PointCut"><span class="nav-number">11.5.3.</span> <span class="nav-text">PointCut</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Advice"><span class="nav-number">11.5.4.</span> <span class="nav-text">Advice</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Weaving"><span class="nav-number">11.5.5.</span> <span class="nav-text">Weaving</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#proxy"><span class="nav-number">11.5.6.</span> <span class="nav-text">proxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Aspect-advisor"><span class="nav-number">11.5.7.</span> <span class="nav-text">Aspect/advisor</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通知（Advice）"><span class="nav-number">11.6.</span> <span class="nav-text">通知（Advice）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#分类"><span class="nav-number">11.6.1.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#前置通知"><span class="nav-number">11.6.1.1.</span> <span class="nav-text">前置通知</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#后置通知"><span class="nav-number">11.6.1.2.</span> <span class="nav-text">后置通知</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#环绕通知"><span class="nav-number">11.6.1.3.</span> <span class="nav-text">环绕通知</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#异常抛出通知"><span class="nav-number">11.6.1.4.</span> <span class="nav-text">异常抛出通知</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#引介通知"><span class="nav-number">11.6.1.5.</span> <span class="nav-text">引介通知</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AspectJ-1"><span class="nav-number">11.7.</span> <span class="nav-text">AspectJ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#切入点表达式"><span class="nav-number">11.7.1.</span> <span class="nav-text">切入点表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#execution"><span class="nav-number">11.7.1.1.</span> <span class="nav-text">execution()</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#语法"><span class="nav-number">11.7.1.1.1.</span> <span class="nav-text">语法</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#修饰符"><span class="nav-number">11.7.1.1.1.1.</span> <span class="nav-text">修饰符</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#返回值"><span class="nav-number">11.7.1.1.1.2.</span> <span class="nav-text">返回值</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#包"><span class="nav-number">11.7.1.1.1.3.</span> <span class="nav-text">包</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#类"><span class="nav-number">11.7.1.1.1.4.</span> <span class="nav-text">类</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#方法"><span class="nav-number">11.7.1.1.1.5.</span> <span class="nav-text">方法()</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#参数"><span class="nav-number">11.7.1.1.1.6.</span> <span class="nav-text">参数</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#throws"><span class="nav-number">11.7.1.1.1.7.</span> <span class="nav-text">throws</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#within-了解"><span class="nav-number">11.7.1.2.</span> <span class="nav-text">within(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#this-了解"><span class="nav-number">11.7.1.3.</span> <span class="nav-text">this(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#target-了解"><span class="nav-number">11.7.1.4.</span> <span class="nav-text">target(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#args-了解"><span class="nav-number">11.7.1.5.</span> <span class="nav-text">args(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bean-了解"><span class="nav-number">11.7.1.6.</span> <span class="nav-text">bean(了解)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通知类型"><span class="nav-number">11.7.2.</span> <span class="nav-text">通知类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概述-3"><span class="nav-number">11.7.2.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分类-1"><span class="nav-number">11.7.2.2.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#前置通知-1"><span class="nav-number">11.7.2.2.1.</span> <span class="nav-text">前置通知</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#后置通知-1"><span class="nav-number">11.7.2.2.2.</span> <span class="nav-text">后置通知</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#环绕通知-1"><span class="nav-number">11.7.2.2.3.</span> <span class="nav-text">环绕通知</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#抛出异常通知"><span class="nav-number">11.7.2.2.4.</span> <span class="nav-text">抛出异常通知</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#最终通知"><span class="nav-number">11.7.2.2.5.</span> <span class="nav-text">最终通知</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring-AOP编程"><span class="nav-number">12.</span> <span class="nav-text">Spring AOP编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#方式"><span class="nav-number">12.1.</span> <span class="nav-text">方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#手动方式"><span class="nav-number">12.1.1.</span> <span class="nav-text">手动方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#半自动方式"><span class="nav-number">12.1.2.</span> <span class="nav-text">半自动方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全自动方式"><span class="nav-number">12.1.3.</span> <span class="nav-text">全自动方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#基于经典的SpringAOP"><span class="nav-number">12.2.</span> <span class="nav-text">基于经典的SpringAOP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring-AspectJ"><span class="nav-number">12.3.</span> <span class="nav-text">Spring+AspectJ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基于xml的AOP编程"><span class="nav-number">12.3.1.</span> <span class="nav-text">基于xml的AOP编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于注解的AOP编程"><span class="nav-number">12.3.2.</span> <span class="nav-text">基于注解的AOP编程</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JDBC-Template"><span class="nav-number">13.</span> <span class="nav-text">JDBC Template</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#使用-1"><span class="nav-number">13.1.</span> <span class="nav-text">使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#手动创建方式-了解"><span class="nav-number">13.1.1.</span> <span class="nav-text">手动创建方式 (了解)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring-ioc之JdbcTemplate"><span class="nav-number">13.1.2.</span> <span class="nav-text">spring ioc之JdbcTemplate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spring-ioc之-JdbcDaoSupport"><span class="nav-number">13.1.3.</span> <span class="nav-text">spring ioc之 JdbcDaoSupport</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#API"><span class="nav-number">13.2.</span> <span class="nav-text">API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增删改"><span class="nav-number">13.2.1.</span> <span class="nav-text">增删改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查"><span class="nav-number">13.2.2.</span> <span class="nav-text">查</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#RowMapper"><span class="nav-number">13.2.2.1.</span> <span class="nav-text">RowMapper</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#API-1"><span class="nav-number">13.2.2.1.1.</span> <span class="nav-text">API</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Spring提供的RowMapper实现"><span class="nav-number">13.2.2.1.2.</span> <span class="nav-text">Spring提供的RowMapper实现</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#BeanPropertyRowMapper"><span class="nav-number">13.2.2.1.2.1.</span> <span class="nav-text">BeanPropertyRowMapper</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#事务管理"><span class="nav-number">14.</span> <span class="nav-text">事务管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#三个顶级接口"><span class="nav-number">14.1.</span> <span class="nav-text">三个顶级接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PlatformTransactionManager"><span class="nav-number">14.1.1.</span> <span class="nav-text">PlatformTransactionManager</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概述-4"><span class="nav-number">14.1.1.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#API-2"><span class="nav-number">14.1.1.2.</span> <span class="nav-text">API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#事务管理器（实现）"><span class="nav-number">14.1.1.3.</span> <span class="nav-text">事务管理器（实现）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#DataSourceTransactionManager"><span class="nav-number">14.1.1.3.1.</span> <span class="nav-text">DataSourceTransactionManager</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HibernateTransactionManager"><span class="nav-number">14.1.1.3.2.</span> <span class="nav-text">HibernateTransactionManager</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TransactionDefinition"><span class="nav-number">14.1.2.</span> <span class="nav-text">TransactionDefinition</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概述-5"><span class="nav-number">14.1.2.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#API-3"><span class="nav-number">14.1.2.2.</span> <span class="nav-text">API</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#传播行为"><span class="nav-number">14.1.2.3.</span> <span class="nav-text">传播行为</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#概述-6"><span class="nav-number">14.1.2.3.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#分类-2"><span class="nav-number">14.1.2.3.2.</span> <span class="nav-text">分类</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#隔离级别"><span class="nav-number">14.1.2.4.</span> <span class="nav-text">隔离级别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TransactionStatus"><span class="nav-number">14.1.3.</span> <span class="nav-text">TransactionStatus</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概述-7"><span class="nav-number">14.1.3.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#API-4"><span class="nav-number">14.1.3.2.</span> <span class="nav-text">API</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#事务管理详解"><span class="nav-number">14.2.</span> <span class="nav-text">事务管理详解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#概述-8"><span class="nav-number">14.2.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#手动管理事务-了解"><span class="nav-number">14.2.2.</span> <span class="nav-text">手动管理事务(了解)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#半自动管理事务"><span class="nav-number">14.2.3.</span> <span class="nav-text">半自动管理事务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TransactionProxyFactoryBean"><span class="nav-number">14.2.3.1.</span> <span class="nav-text">TransactionProxyFactoryBean</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自动管理事务"><span class="nav-number">14.2.4.</span> <span class="nav-text">自动管理事务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Aop配置事务基于xml"><span class="nav-number">14.2.4.1.</span> <span class="nav-text">Aop配置事务基于xml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Aop配置事务基于注解"><span class="nav-number">14.2.4.2.</span> <span class="nav-text">Aop配置事务基于注解</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#spring整合junit"><span class="nav-number">15.</span> <span class="nav-text">spring整合junit</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#jar包"><span class="nav-number">15.1.</span> <span class="nav-text">jar包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用-2"><span class="nav-number">15.2.</span> <span class="nav-text">使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#RunWith-SpringJunit4ClassRunner-class"><span class="nav-number">15.2.1.</span> <span class="nav-text">@RunWith(SpringJunit4ClassRunner.class)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ContextConfiguration"><span class="nav-number">15.2.2.</span> <span class="nav-text">@ContextConfiguration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Autowired-1"><span class="nav-number">15.2.3.</span> <span class="nav-text">@Autowired</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#spring整合web"><span class="nav-number">16.</span> <span class="nav-text">spring整合web</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-9"><span class="nav-number">16.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#web技术之服务器-tomcat-一启动就加载配置文件的方式"><span class="nav-number">16.2.</span> <span class="nav-text">web技术之服务器(tomcat)一启动就加载配置文件的方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spring监听器的配置"><span class="nav-number">16.3.</span> <span class="nav-text">spring监听器的配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#手动获取spring容器"><span class="nav-number">16.4.</span> <span class="nav-text">手动获取spring容器</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-snowflake-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">安₃</span>

  

  
</div>



<!--





-->





        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  













  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.0"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  


<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
</body>
</html>
